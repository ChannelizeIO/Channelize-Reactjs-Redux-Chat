{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"@babel/runtime/helpers/defineProperty\"","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\"","webpack:///external \"@babel/runtime/helpers/getPrototypeOf\"","webpack:///external \"@babel/runtime/helpers/classCallCheck\"","webpack:///external \"@babel/runtime/helpers/createClass\"","webpack:///external \"@babel/runtime/helpers/inherits\"","webpack:///external \"@babel/runtime/helpers/possibleConstructorReturn\"","webpack:///external \"@babel/runtime/helpers/toConsumableArray\"","webpack:///external \"channelize-chat\"","webpack:///external \"react-redux\"","webpack:///external \"redux\"","webpack:///external \"moment\"","webpack:///external \"immer\"","webpack:///external \"@babel/runtime/helpers/extends\"","webpack:///external \"lodash/throttle\"","webpack:///external \"lodash/debounce\"","webpack:///external \"redux-thunk\"","webpack:///external \"redux-logger\"","webpack:///external \"remote-redux-devtools\"","webpack:///./src/constants.js","webpack:///./src/actions/clientActions.js","webpack:///./src/actions/conversationActions.js","webpack:///./src/actions/messageActions.js","webpack:///./src/context.js","webpack:///./src/components/App.js","webpack:///./src/components/Header.js","webpack:///./src/components/Launcher.js","webpack:///./src/components/Loader.js","webpack:///./src/utils/index.js","webpack:///./src/components/ConversationItem.js","webpack:///./src/components/ConversationList.js","webpack:///./src/components/MessagePreview.js","webpack:///./src/components/ConversationWindow.js","webpack:///./src/components/SearchWindow.js","webpack:///./src/actions/userActions.js","webpack:///./src/reducers/clientReducer.js","webpack:///./src/reducers/conversationReducer.js","webpack:///./src/reducers/messageReducer.js","webpack:///./src/reducers/userReducer.js","webpack:///./src/reducers/index.js","webpack:///./src/store/index.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","LANGUAGE_PHRASES","IMAGES","connectSuccess","dispatch","response","type","payload","connectFail","error","setActiveConversation","conversation","ChannelizeContext","React","createContext","client","ChannelizeProvider","Provider","withChannelizeContext","OriginalComponent","getContextAwareComponent","context","originalComponent","Context","ContextAwareComponent","props","Consumer","themePath","extraThemePaths","displayName","replace","App","state","userId","this","accessToken","chConnect","prevProps","connected","registerEventHandlers","getContext","children","PureComponent","connect","Promise","resolve","reject","res","_connect","then","catch","chsocket","on","Conversation","getConversation","id","err","Header","setState","showDropDownList","title","subtitle","profileImageUrl","showArrowBack","onBack","showChevron","renderDropDownList","renderRight","className","onClick","style","backgroundImage","toggleDropDownList","Launcher","src","alt","Loader","createReducer","initialState","actionsMap","action","produce","draft","caseReducer","undefined","uniqueList","list","reduce","uniqList","currentValue","map","item","indexOf","push","setAutoFreeze","modifyConversation","isGroup","user","modifyMessageList","lastMessage","getCurrentUser","forEach","message","ownerId","readByAll","showReadStatus","readByAllMembers","createdAt","Date","now","AMorPMTimeParser","owner","isUser","isDeleted","body","length","nextMessage","showOwnerAvatar","isUserLastMessage","isSameUser","prevMessage","showDateSeparator","isSameDay","getLastMessageString","lastMessageString","keys","messageOwnerName","attachments","attachment","capitalize","lastMessageTimeParser","time","today","todayDate","getDate","todayMonth","getMonth","todayYear","getFullYear","inputDate","inputTimeDate","inputTimeMonth","inputTimeYear","showWeekDay","getDay","hours","getHours","AmOrPm","getMinutes","substr","dateSeparatorParser","currentMessage","diffMessage","currentCreatedAt","diffCreatedAt","x","split","toUpperCase","join","ConversationItem","onSelect","onlineIcon","activeConversation","updatedAt","isOnline","selectConversation","ConversationList","conversationListQuery","createConversationListQuery","limit","skip","getConversationList","onCloseIconClick","onSearchIconClick","onScroll","chRecentListingRef","createRef","_init","loadingMoreConversations","allConversationsLoaded","current","scrollTop","clientHeight","scrollHeight","loadMoreConversations","headerImage","connecting","loading","showSearchIcon","showCloseIcon","ref","MessagePreview","url","link","document","createElement","href","target","appendChild","click","removeChild","download","msgContainerPos","fileMessage","thumbnailUrl","fileUr","showImage","fileUrl","downloadFile","extension","ownerProfileImageUrl","Fragment","Component","ConversationWindow","config","typing_events","markAsRead","chMessageBoxRef","toString","dummyConversation","membersExactly","conversations","User","messageListQuery","createMessageListQuery","getMessageList","unreadMessageCount","handleChange","handleKeyUp","sendMessage","_markAsRead","throttle","sendMedia","text","offsetTop","offsetBottom","prevState","snapshot","newMessage","loadingMoreMessages","sendingMessage","_scrollToTarget","event","keyCode","preventDefault","file","fileType","shift","sendFileToConversation","sendMessageToConversation","sendMessageToUserId","allMessagesLoaded","loadMoreMessagesAction","sendFile","files","disableComposer","disableComposerMessage","actionButton","headerTitle","headerSubtitle","composerDisabled","moment","lastSeen","fromNow","memberCount","isActive","blockUser","unblockUser","accept","onChange","placeholder","onKeyUp","reverse","Message","attachmentType","createThumbnail","File","upload","fileData","SearchWindow","friendsListQuery","createUserListQuery","friendsLimit","sort","getFriendsList","searchLimit","search","searchFriendsAction","moreUsersListQuery","getMoreUsersList","searchText","onContactClick","setActiveUserId","_searchOnServer","debounce","inputValue","loadingFriendsList","loadingSearchFriends","friendslist","moreUsersList","searchFriends","showMoreUsers","clearSearch","friend","imgUrl","userListQuery","friendsList","loadMoreFriends","usersList","INITIAL_STATE","finalList","index","conversationIndex","latestConversation","conversationId","timestamp","splice","unshift","members","concat","removedMember","findIndex","member","lastReadAt","status","toJSON","Channelize","core","Client","getInstance","Model","jsonConversaton","loadingMoreFriends","allFriendsLoaded","loadingMoreUsersList","combineReducers","conversationReducer","messageReducer","userReducer","middleware","thunk","composedEnhancers","compose","applyMiddleware","store","createStore","rootReducer"],"mappings":"2BACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,gBClFrDhC,EAAOD,QAAUkC,QAAQ,U,cCAzBjC,EAAOD,QAAUkC,QAAQ,0C,cCAzBjC,EAAOD,QAAUkC,QAAQ,iD,cCAzBjC,EAAOD,QAAUkC,QAAQ,0C,cCAzBjC,EAAOD,QAAUkC,QAAQ,0C,cCAzBjC,EAAOD,QAAUkC,QAAQ,uC,cCAzBjC,EAAOD,QAAUkC,QAAQ,oC,cCAzBjC,EAAOD,QAAUkC,QAAQ,qD,cCAzBjC,EAAOD,QAAUkC,QAAQ,6C,cCAzBjC,EAAOD,QAAUkC,QAAQ,oB,cCAzBjC,EAAOD,QAAUkC,QAAQ,gB,cCAzBjC,EAAOD,QAAUkC,QAAQ,U,cCAzBjC,EAAOD,QAAUkC,QAAQ,W,cCAzBjC,EAAOD,QAAUkC,QAAQ,U,cCAzBjC,EAAOD,QAAUkC,QAAQ,mC,cCAzBjC,EAAOD,QAAUkC,QAAQ,oB,cCAzBjC,EAAOD,QAAUkC,QAAQ,oB,cCAzBjC,EAAOD,QAAUkC,QAAQ,gB,cCAzBjC,EAAOD,QAAUkC,QAAQ,iB,cCAzBjC,EAAOD,QAAUkC,QAAQ,0B,gLCAZC,EACL,OADKA,EAOM,2BAPNA,EAyBH,SAzBGA,EA0BA,YA1BAA,EA2BC,aAYDC,EACI,2EADJA,EAYJ,mEAZIA,EAaJ,mECFHC,EAAiB,SAACC,EAAUC,GAChCD,EAAS,CACPE,KDQ2B,kBCP3BC,QAASF,KAIPG,EAAc,SAACJ,EAAUK,GAC7BL,EAAS,CACPE,KDEwB,eCDxBC,QAASE,KCnDN,ICoIMC,EAAwB,SAACC,GACpC,OAAO,SAAAP,GACLA,EAAS,CACPE,KHpCiC,0BGqCjCC,QAASI,M,iBC/IFC,EAAoBC,IAAMC,cAAc,CAAEC,OAAQ,OAElDC,EAAqBJ,EAAkBK,SAE7C,SAASC,EAAsBC,GAKpC,OAJ8BC,EAC5BR,EACAO,GAKJ,IAAMC,EAA2B,SAASC,EAASC,GACjD,IAAMC,EAAUF,EACVF,EAAoBG,EACpBE,EAAwB,SAASC,GACrC,OACE,kBAACF,EAAQG,SAAT,MACG,SAACrD,GAAD,OAAO,kBAAC8C,EAAD,OAAuB9C,EAAOoD,QAc5C,OATAD,EAAsBG,UAAYR,EAAkBQ,UACpDH,EAAsBI,gBAAkBT,EAAkBS,gBAG1DJ,EAAsBK,aAFtBL,EAAsBK,YACpBV,EAAkBU,aAAeV,EAAkB5C,MAAQ,aACSuD,QACpE,OACA,IAGKN,G,0oBCzBHO,E,gCAEJ,WAAYN,GAAO,yBACjB,cAAMA,GADW,yBAyBN,iBAAO,CAClBV,OAAQ,EAAKU,MAAMV,WAvBnB,EAAKiB,MAAQ,CACXrB,aAAc,KACdsB,OAAQ,MALO,E,wDASC,MACsBC,KAAKT,MAArCV,EADU,EACVA,OAAQkB,EADE,EACFA,OAAQE,EADN,EACMA,YACxBD,KAAKT,MAAMW,UAAUrB,EAAQkB,EAAQE,K,yCAGpBE,GACZH,KAAKT,MAAMa,YAKXD,EAAUC,WAAaJ,KAAKT,MAAMa,WACrCJ,KAAKT,MAAMc,sBAAsBL,KAAKT,MAAMV,U,+BASxBmB,KAAKT,MAAnBa,UAER,OACE,kBAACtB,EAAD,CAAoB/B,MAAOiD,KAAKM,cAC5BN,KAAKT,MAAMgB,c,GApCHC,iB,waA8ClBX,EAAMY,mBAJkB,SAAC,GACvB,O,iWAAA,IADoC,EAAZ5B,UAMxB,CAAEqB,UJfqB,SAACrB,EAAQkB,EAAQE,GACxC,OAAO,SAAA/B,GACL,OA3Ba,SAACW,EAAQkB,EAAQE,GAChC,OAAO,IAAIS,SAAQ,SAACC,EAASC,GACtBb,EAIAE,GAKApB,GACH+B,EAAO,yCAGT/B,EAAO4B,QAAQV,EAAQE,GAAa,SAAC1B,EAAOsC,GACtCtC,EACFqC,EAAO,oCAEPD,EAAQE,OAZVD,EAAO,4BAJPA,EAAO,0BAwBFE,CAASjC,EAAQkB,EAAQE,GAC7Bc,MAAK,SAAA5C,GAAQ,OAAIF,EAAeC,EAAUC,MAC1C6C,OAAM,SAAAzC,GAAK,OAAID,EAAYJ,EAAUK,QIW7B8B,sBJyCsB,SAACxB,GACpC,OAAO,SAAAX,GACLW,EAAOoC,SAASC,GAAG,uBAAuB,SAAU7C,GAClDH,EAAS,CACPE,KDpCiC,sBCqCjCC,QAASA,OAIbQ,EAAOoC,SAASC,GAAG,gBAAgB,SAAU7C,GAC3CH,EAAS,CACPE,KDnC0B,qBCoC1BC,QAASA,OAIbQ,EAAOoC,SAASC,GAAG,wBAAwB,SAAU/C,GACnDD,EAAS,CACPE,KDnDkC,6BCoDlCC,QAASF,OAIdU,EAAOoC,SAASC,GAAG,eAAe,SAAU/C,GAAU,IAE3CM,EAAiBN,EAAjBM,aACRI,EAAOsC,aAAaC,gBAAgB3C,EAAa4C,GAAI,MAAM,SAACC,EAAK7C,GAC3D6C,IAIJnD,EAASM,aAAeA,EAExBP,EAAS,CACPE,KD9DuB,oBC+DvBC,QAASF,WAKfU,EAAOoC,SAASC,GAAG,8BAA8B,SAAU/C,GACzDD,EAAS,CACPE,KDrE2B,sBCsE3BC,QAASF,OAIbU,EAAOoC,SAASC,GAAG,gCAAgC,SAAU/C,GAC3DD,EAAS,CACPE,KD3E6B,wBC4E7BC,QAASF,OAIbU,EAAOoC,SAASC,GAAG,wBAAwB,SAAU/C,GACnDD,EAAS,CACPE,KDjFkC,6BCkFlCC,QAASF,OAIbU,EAAOoC,SAASC,GAAG,6BAA6B,SAAU/C,GACxDD,EAAS,CACPE,KD9F0B,qBC+F1BC,QAASF,OAIbU,EAAOoC,SAASC,GAAG,gBAAgB,SAAU/C,GAC3CD,EAAS,CACPE,KDpG0B,qBCqG1BC,QAASF,OAIbU,EAAOoC,SAASC,GAAG,kBAAkB,SAAU/C,GAC7CD,EAAS,CACPE,KD1G4B,uBC2G5BC,QAASF,UIzHXsC,CAGJZ,G,ICxDI0B,E,gCAEJ,WAAYhC,GAAO,yBACjB,cAAMA,GADW,iCAOE,WACpB,EAAKiC,UAAS,SAAC1B,GAAD,MAAY,CACzB2B,kBAAmB3B,EAAM2B,wBAPzB,EAAK3B,MAAQ,CACZ2B,kBAAkB,GAHF,E,6CAaV,MAUHzB,KAAKT,MARRmC,EAFM,EAENA,MACAC,EAHM,EAGNA,SACAC,EAJM,EAINA,gBACCC,EALK,EAKLA,cACAC,EANK,EAMLA,OACDC,EAPM,EAONA,YACAC,EARM,EAQNA,mBACAC,EATM,EASNA,YAEOR,EAAqBzB,KAAKF,MAA1B2B,iBAER,OACD,yBAAKJ,GAAG,YAAYa,UAAU,aAC5BL,GAAiB,uBAAGK,UAAU,4BAA4BC,QAASL,GAAlD,cACdF,GAAmB,yBAAKM,UAAU,kBAAkBE,MAAO,CAACC,gBAAe,cAAQT,EAAR,QAChF,yBAAKM,UAAU,qBACV,yBAAKA,UAAU,qBACfR,GACI,yBAAKQ,UAAU,mBACb,6BAAMR,GACJK,GAAe,uBAAGG,UAAU,iCAAiCC,QAASnC,KAAKsC,oBAA5D,wBAGvBX,GAAY,yBAAKO,UAAU,sBAAsBP,GACjDF,GAAoBO,GAAsBA,KAE1C,yBAAKE,UAAU,yBACZD,GAAejC,KAAKT,MAAM0C,qB,GA5ChBzB,iBCCrB,SAAS+B,EAAShD,GAAO,IACf4C,EAAY5C,EAAZ4C,QAER,OACC,yBAAKd,GAAG,cAAca,UAAU,cAAcC,QAASA,GACvD,yBAAKd,GAAG,oBAAoBa,UAAU,oBAAoBM,IAAKxE,EAAsByE,IAAI,MCN5F,SAASC,EAAOnD,GACf,OACC,yBAAK8B,GAAG,4BACP,yBAAKA,GAAG,iBAAiBa,UAAU,e,6BCC/B,SAASS,EAAcC,EAAcC,GAC1C,OAAO,WAAkC,IAAjC/C,EAAiC,uDAAzB8C,EAAcE,EAAW,uCACvC,OAAOC,kBAAQjD,GAAO,SAAAkD,GACpB,IAAMC,EAAcJ,EAAWC,EAAO1E,MACtC,OAAO6E,EAAcA,EAAYD,EAAOF,QAAUI,MAKjD,SAASC,EAAWC,GACzB,OAAOA,EAAKC,QAAO,SAACC,EAAUC,GAO5B,OANUD,EAASE,KAAI,SAAAC,GACrB,OAAOA,EAAKpC,MAENqC,QAAQH,EAAalC,IAAM,GACjCiC,EAASK,KAAKJ,GAETD,IACN,IApBLM,yBAAc,GAuBP,IAAMC,EAAqB,SAACpF,GACjC,GAAKA,EAoBL,OAhBKA,EAAaqF,QAahBrF,EAAamD,gBAAkBnD,EAAamD,gBAAkBnD,EAAamD,gBAAkB5D,EAZzFS,EAAasF,MACftF,EAAaiD,MAAQjD,EAAasF,KAAKpE,YACnClB,EAAasF,KAAKnC,gBACpBnD,EAAamD,gBAAkBnD,EAAasF,KAAKnC,gBAEjDnD,EAAamD,gBAAkB5D,IAGjCS,EAAaiD,MAAQ,eACrBjD,EAAamD,gBAAkB5D,GAM5BS,GAGIuF,EAAoB,SAACnF,EAAQJ,EAAc2E,GACtD,IAGIa,EAHEF,EAAOlF,EAAOqF,iBAUpB,OANAd,EAAKe,SAAQ,SAAAC,GACPL,EAAK1C,IAAM+C,EAAQC,UACrBJ,EAAcG,MAIXhB,EAAKI,KAAI,SAACY,EAAStI,GAuCxB,GArCAsI,EAAQE,UAAY,KACpBF,EAAQG,gBAAiB,EACrBN,GAAeA,EAAY5C,IAAM+C,EAAQ/C,KAC3C+C,EAAQG,gBAAiB,EACzBH,EAAQE,UAAY7F,EAAa+F,iBAAiBJ,IAI/C,cAAeA,IAClBA,EAAQK,UAAYC,KAAKC,OAE3BP,EAAO,KAAWQ,EAAiBR,EAAQK,WAGvCL,EAAQS,QACVT,EAAQS,MAAQ,CACdxD,GAAI0C,EAAK1C,GACT1B,YAAaoE,EAAKpE,YAClBiC,gBAAiBmC,EAAKnC,kBAGpB,oBAAqBwC,EAAQS,QACjCT,EAAQS,MAAMjD,gBAAkB5D,GAIlCoG,EAAO,QAAa,EAChBL,EAAK1C,IAAM+C,EAAQC,UACrBD,EAAQU,QAAS,GAIhBV,EAAQW,YACTX,EAAQY,KAAO,MAAQjH,EAAmC,QAIxDjC,EAAIsH,EAAK6B,OAAQ,CACnB,IAAIC,EAAc9B,EAAKtH,EAAI,GAE3BsI,EAAQe,iBAAkB,EAC1B,IAAMC,EAAqBtJ,GAAKsH,EAAK6B,OAAQ,GAAKlB,EAAK1C,IAAM+C,EAAQS,MAAMxD,GAC3E+C,EAAQe,kBAAoBE,GAAWjB,EAASc,EAAanB,IAASqB,GAEtE,IAAIE,EAAclC,EAAKtH,EAAI,GAC3BsI,EAAQmB,mBAAqBC,GAAUpB,EAASkB,GAGlD,OAAOlB,MAIEqB,EAAuB,SAAC5G,EAAQJ,GAC3C,IAOIiH,EAPE3B,EAAOlF,EAAOqF,iBAChBE,EAAU3F,EAAawF,YAE3B,IAAKG,EACH,MAAO,GAIT,IAAK5H,OAAOmJ,KAAKvB,GAASa,OAExB,OADAS,EAAoB,GAKtB,GAAoB,SAAhBtB,EAAQhG,KAGV,OAFAsH,EAAoB,gBAMtB,IAeIE,EAfEC,EAAczB,EAAQyB,YAC5B,GAAIA,GAAeA,EAAYZ,OAAQ,CACrC,IAAMa,EAAaD,EAAY,GAE/B,GAAIzB,EAAQS,MAAMxD,IAAM0C,EAAK1C,GAC3BqE,EAAoB,cAAH,OAAiBI,EAAW1H,UACxC,CACL,IAAMuB,EAAcoG,GAAW3B,EAAQS,MAAMlF,aAC7C+F,EAAoB,GAAH,OAAM/F,EAAN,mBAA4BmG,EAAW1H,MAG1D,OAAOsH,EAKT,GAAItB,EAAQS,MACV,GAAIT,EAAQS,MAAMxD,IAAM0C,EAAK1C,GAC3BuE,EAAmB,aAEnB,GAAInH,EAAaqF,QAAS,CACxB,IAAMnE,EAAcoG,GAAW3B,EAAQS,MAAMlF,aAC7CiG,EAAmB,GAAH,OAAMjG,EAAN,MAetB,OAVIyE,EAAQW,YACVX,EAAQY,KAAO,6BAMfU,EAHGE,EAGiB,GAAH,OAAMA,GAAN,OAAyBxB,EAAQY,MAF9B,GAAH,OAAMZ,EAAQY,OAQ5B,SAASgB,EAAsBC,GACpC,IAAMC,EAAQ,IAAIxB,KACZyB,EAAYD,EAAME,UAClBC,EAAaH,EAAMI,WAAa,EAChCC,EAAYL,EAAMM,cAElBC,EAAY,IAAI/B,KAAKuB,GACrBS,EAAgBD,EAAUL,UAC1BO,EAAiBF,EAAUH,WAAa,EACxCM,EAAgBH,EAAUD,cAE1BK,EAAcD,GAAiBL,GAAaI,GAAkBN,GAAcF,EAAYO,GAAiB,EAE/G,GADiBE,GAAiBL,GAAaI,GAAkBN,GAAcK,GAAiBP,EAE9F,OAAOvB,EAAiB6B,GACnB,GAAII,EAAa,CAUtB,MATc,CACb,MACA,MACA,MACA,MACA,MACA,MACA,OAEYJ,EAAUK,UAEvB,OAAOH,EAAiB,IAAMD,EAAgB,IAAME,EAIjD,SAAShC,EAAiBqB,GAC/B,IAAMQ,EAAY,IAAI/B,KAAKuB,GACvBc,EAAQN,EAAUO,WAClBC,EAASF,GAAS,GAAK,KAAO,KAGlC,OAFAA,EAASA,EAAQ,IAAO,IAET,KADD,IAAMN,EAAUS,cACDC,QAAQ,GAAK,IAAMF,EAG3C,SAASG,GAAoBnB,GAClC,IAAMC,EAAQ,IAAIxB,KACZyB,EAAYD,EAAME,UAClBC,EAAaH,EAAMI,WAAa,EAChCC,EAAYL,EAAMM,cAElBC,EAAY,IAAI/B,KAAKuB,GACrBS,EAAgBD,EAAUL,UAC1BO,EAAiBF,EAAUH,WAAa,EACxCM,EAAgBH,EAAUD,cAIhC,OAFkBI,GAAiBL,GAAaI,GAAkBN,GAAcF,GAAaO,EAGpF,QAFaE,GAAiBL,GAAaI,GAAkBN,GAAeF,EAAYO,GAAkB,EAI1G,YAEAC,EAAiB,IAAMD,EAAgB,IAAME,EAIjD,SAASpB,GAAU6B,EAAgBC,GACxC,KAAKD,GAAmBA,EAAe5C,WAAc6C,GAAgBA,EAAY7C,WAC/E,OAAO,EAGT,IAAI8C,EAAmB,IAAI7C,KAAK2C,EAAe5C,WAC3C+C,EAAgB,IAAI9C,KAAK4C,EAAY7C,WACzC,OAAO8C,EAAiBnB,WAAaoB,EAAcpB,UAG9C,SAASf,GAAWgC,EAAgBC,EAAavD,GACtD,UAAUuD,GACRA,EAAYzC,OACZwC,EAAexC,QACfd,EAAK1C,KAAOgG,EAAexC,MAAMxD,IACjCiG,EAAYzC,MAAMxD,KAAOgG,EAAexC,MAAMxD,IAG3C,IAAM0E,GAAa,SAAClI,GACzB,GAAKA,EAAL,CAGA,IAAK,IAAI/B,EAAI,EAAG2L,GAFhB5J,EAAIA,EAAE6J,MAAM,MAEUzC,OAAQnJ,EAAI2L,EAAG3L,IAC5B+B,EAAE/B,GAGL+B,EAAE/B,GAAK+B,EAAE/B,GAAG,GAAG6L,cAAgB9J,EAAE/B,GAAGqL,OAAO,GAF3CtJ,EAAE/B,GAAK+B,EAAE/B,GAMf,OAAO+B,EAAE+J,KAAK,O,4oBCvQVC,G,iCAEL,WAAYtI,GAAO,yBAChB,cAAMA,GADU,iCAIE,WAAM,MACW,EAAKA,MAAhCd,EADgB,EAChBA,aAAcqJ,EADE,EACFA,SACtB,EAAKvI,MAAMf,sBAAsBC,GAE7BqJ,GAA+B,mBAAZA,GACrBA,EAASrJ,MATK,E,6CAaV,IAeFsJ,EAfE,EAC+C/H,KAAKT,MAAlDV,EADF,EACEA,OAAQmJ,EADV,EACUA,mBAAoBvJ,EAD9B,EAC8BA,aAChC2F,EAAU3F,EAAawF,YAGvByB,EAAoBD,EAAqB5G,EAAQJ,GAGjD2F,EAAQK,UAGVL,EAAQ6B,KAAOD,EAAsB5B,EAAQ6D,WAF7C7D,EAAQ6B,KAAOD,EAAsBtB,QAOpCjG,EAAasF,MAAQtF,EAAasF,KAAKmE,WACxCH,EAAa,0BAAM7F,UAAU,oCAG/B,IAAIE,EAAQ,GAKd,OAJM4F,GAAsBA,EAAmB3G,IAAM5C,EAAa4C,KAC9De,EAAQ,CAAC,gBAAmB,YAI/B,wBAAIA,MAAOA,EAAOf,GAAI5C,EAAa4C,GAAIc,QAASnC,KAAKmI,oBAC9C,yBAAKjG,UAAU,wBAAwBE,MAAO,CAACC,gBAAe,cAAQ5D,EAAamD,gBAArB,OAChEmG,GAEE,yBAAK7F,UAAU,2BACf,yBAAKA,UAAU,kCACb,yBAAKb,GAAG,YAAY5C,EAAaiD,OACjC,yBAAKL,GAAG,gBAAgBa,UAAU,iBAAiBkC,EAAQ6B,OAEhE,yBAAK/D,UAAU,kCACV,yBAAKb,GAAG,kBAAkBa,UAAU,mBAClC,yBAAKA,UAAU,mBAAmBwD,W,GApDjBlF,iBA8D/BqH,GAAmB7I,EAAsB6I,I,8+BAMzCA,GAAmBpH,mBAJK,SAAC,GACvB,O,mWAAA,IAD0C,EAAlBhC,gBAMxB,CAAED,yBAFeiC,CAGjBoH,I,IChEIO,G,iCACJ,WAAY7I,GAAO,yBACjB,cAAMA,GADW,oBAoCX,WAAM,MACa,EAAKA,MAAtBV,EADI,EACJA,OAER,IAHY,EACIuE,KAEP6B,OAAT,CAKA,IAAIoD,EAAwBxJ,EAAOsC,aAAamH,8BAChDD,EAAsBE,MAAQ,EAAKA,MACnCF,EAAsBG,KAAO,EAAKA,KAClC,EAAKjJ,MAAMkJ,oBAAoBJ,OA/Cd,+BAkDA,WAAM,IACfK,EAAqB,EAAKnJ,MAA1BmJ,iBACJA,GAA+C,mBAApBA,GAC7BA,OArDe,gCAyDC,WAAM,IAChBC,EAAsB,EAAKpJ,MAA3BoJ,kBACJA,GAAiD,mBAArBA,GAC9BA,OA1DF,EAAKJ,MAAQ,GACb,EAAKC,KAAO,EAEZ,EAAKI,SAAW,EAAKA,SAAStL,KAAd,QAChB,EAAKuL,mBAAqBlK,IAAMmK,YANf,E,wDAUK9I,KAAKT,MAAnBa,WAKRJ,KAAK+I,U,yCAGY5I,GAAW,MAC4BH,KAAKT,MAA7Ca,GADY,EACpBvB,OADoB,EACZuB,WAAW4H,EADC,EACDA,mBAAoB5E,EADnB,EACmBA,KAC1ChD,KAKYD,EAAUC,WAAaJ,KAAKT,MAAMa,WAEjDJ,KAAK+I,SAIFf,GAAsB5E,EAAK6B,QAC9BjF,KAAKT,MAAMf,sBAAsB4E,EAAK,O,iCAgC/B,MACkEpD,KAAKT,MAAxE6D,EADC,EACDA,KAAMvE,EADL,EACKA,OAAQmK,EADb,EACaA,yBAA0BC,EADvC,EACuCA,uBAC1CJ,EAAqB7I,KAAK6I,mBAAmBK,QAEnD,KAAIF,GAA4BC,GAA0B7F,EAAK6B,OAASjF,KAAKuI,QAI1EM,EAAmBM,UAAYN,EAAmBO,cAAgBP,EAAmBQ,aAAc,CAEpGrJ,KAAKwI,KAAOpF,EAAK6B,OAEjB,IAAIoD,EAAwBxJ,EAAOsC,aAAamH,8BAChDD,EAAsBE,MAAQvI,KAAKuI,MACnCF,EAAsBG,KAAOxI,KAAKwI,KAClCxI,KAAKT,MAAM+J,sBAAsBjB,M,+BAI5B,IAiBHkB,EAjBG,SAcHvJ,KAAKT,MAZPV,EAFK,EAELA,OACAuE,EAHK,EAGLA,KACAoG,EAJK,EAILA,WACApJ,EALK,EAKLA,UACAqJ,EANK,EAMLA,QACAlL,EAPK,EAOLA,MACAyK,EARK,EAQLA,yBACAU,EATK,EASLA,eAEAC,GAXK,EAULhB,kBAVK,EAWLgB,eACA3B,EAZK,EAYLA,mBACAF,EAbK,EAaLA,SAGI/D,EAAOlF,EAAOqF,iBAUpB,OAPEqF,EADCxF,GAAQA,EAAKnC,gBACAmC,EAAKnC,gBAEL5D,EAGhBoF,EAAOA,EAAKI,KAAI,SAAA/E,GAAY,OAAIoF,EAAmBpF,MAGjD,yBAAK4C,GAAG,mBAAmBa,UAAU,oBACnC,kBAAC,EAAD,CACEN,gBAAiB2H,EACjB7H,MAAO3D,EACPkE,YAAa,WACX,OACE,6BACIyH,GAAkB,uBAAGhI,MAAM,SAASQ,UAAU,iBAAiBC,QAAS,EAAKwG,mBAA3D,UAClBgB,GAAiB,uBAAGjI,MAAM,QAAQQ,UAAU,iBAAiBC,QAAS,EAAKuG,kBAA1D,aAK3B,yBAAKrH,GAAG,oBAAoBa,UAAU,oBAAqB0H,IAAK5J,KAAK6I,mBAAoBD,SAAU5I,KAAK4I,WACnGY,GAAcC,IAAa,yBAAKvH,UAAU,UAAS,kBAACQ,EAAD,OAEpDnE,GAAS,yBAAK2D,UAAU,gBAAgB3D,GAExC6B,IAAcgD,EAAK6B,SAAWwE,GAAW,yBAAKvH,UAAU,0BAAf,mBAE3C,wBAAIb,GAAG,eAAea,UAAU,gBAE5BkB,EAAKI,KAAI,SAAC/E,GACR,OAAO,kBAAC,GAAD,CACLpB,IAAKoB,EAAa4C,GAClB2G,mBAAoBA,EACpBvJ,aAAcA,EACdqJ,SAAUA,QAKhBkB,GAA6B,mD,GA/IVxI,iBAsJ/B4H,GAAmBpJ,EAAsBoJ,I,yaAMzCA,GAAmB3H,mBAJK,SAAC,GAAoC,IAAnChC,EAAmC,EAAnCA,aAAcI,EAAqB,EAArBA,OAAQuF,EAAa,EAAbA,QAC9C,mBAAW3F,GAAiBI,GAA5B,IAAoCmJ,mBAAoB5D,EAAQ3F,iBAKhE,CACEgK,oBTpK+B,SAACJ,GAClC,OAAO,SAAAnK,GAKL,OAJAA,EAAS,CACPE,KF6EmC,4BE5EnCC,QAAS,KAEJgK,EAAsBjF,MAAK,SAAC9B,EAAKnD,GAClCmD,GACFpD,EAAS,CACPE,KFwE4B,yBEvE5BC,QAASiD,IAGbpD,EAAS,CACPE,KFoEiC,4BEnEjCC,QAASF,SSsJbmL,sBThJiC,SAACjB,GACpC,OAAO,SAAAnK,GAKL,OAJAA,EAAS,CACPE,KF2DyC,kCE1DzCC,QAAS,KAEJgK,EAAsBjF,MAAK,SAAC9B,EAAKnD,GAClCmD,GACFpD,EAAS,CACPE,KFsDkC,+BErDlCC,QAASiD,IAGbpD,EAAS,CACPE,KFkDuC,kCEjDvCC,QAASF,SSkIbK,yBALeiC,CAOjB2H,I,IC7KIyB,G,iCACL,WAAYtK,GAAO,+BACXA,G,8CAGEuK,GACT,IAAIC,EAAOC,SAASC,cAAc,KACjCF,EAAKG,KAAOJ,EACZC,EAAKI,OAAS,SACdH,SAAShF,KAAKoF,YAAYL,GAC1BA,EAAKM,QACLL,SAAShF,KAAKsF,YAAYP,K,mCAIfD,EAAKzN,GAChB,IAAI0N,EAAOC,SAASC,cAAc,KAClCF,EAAKG,KAAOJ,EACZC,EAAKI,OAAS,SACdJ,EAAKQ,SAAWlO,EAChB2N,SAAShF,KAAKoF,YAAYL,GAC1BA,EAAKM,QACLL,SAAShF,KAAKsF,YAAYP,K,+BAGnB,aACoB/J,KAAKT,MAAzBV,EADA,EACAA,OAAQuF,EADR,EACQA,QAIZoG,GAHS3L,EAAOqF,iBAGEE,EAAQU,OAAS,QAAU,QAE7C2F,EAAcrG,EAAQyB,YAAYrC,KAAI,SAAAsC,GACxC,OAAOA,EAAW1H,MACnB,IAAK,QACH,OAAO,yBAAK8D,UAAU,mBAAmBM,IAAKsD,EAAW4E,aAAe5E,EAAW4E,aAAe5E,EAAW6E,OAAQxI,QAAS,kBAAI,EAAKyI,UAAU9E,EAAW+E,YAE9J,IAAK,QACH,OACD,yBAAK3I,UAAU,sBACb,yBAAKA,UAAU,mBAAmBM,IAAKsD,EAAW4E,aAAcvI,QAAS,kBAAI,EAAKyI,UAAU9E,EAAW+E,YACvG,uBAAG3I,UAAU,qCAAb,wBAID,IAAK,cACL,OACD,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,mBACd,yBAAKA,UAAU,gBACf,uBAAGA,UAAU,qCAAb,eACA,0BAAMA,UAAU,gBAAgB4D,EAAWzJ,MAC3C,uBAAG6F,UAAU,uCAAuCC,QAAS,kBAAK,EAAK2I,aAAahF,EAAW+E,QAAS/E,EAAWzJ,QAAnH,mBAEF,yBAAK6F,UAAU,mBACb,6BACA,8BAAO4D,EAAWiF,cAMtB,QACE,OAAO,SAKJC,EAAuB5G,EAAQS,MAAMjD,gBAC3C,OACC,kBAAC,IAAMqJ,SAAP,KACG7G,EAAQmB,mBACT,yBAAKlI,IAAG,UAAK+G,EAAQ/C,GAAb,SAAwBa,UAAU,kBACzC,yBAAKA,UAAU,6BACd,yBAAKA,UAAU,gCACf,yBAAKA,UAAU,+BAA+BkF,GAAoBhD,EAAQK,YAC1E,yBAAKvC,UAAU,mCAKlB,yBAAK7E,IAAK+G,EAAQ/C,GAAIa,UAAS,yBAAoBsI,IAClD,yBAAKtI,UAAS,oBACXkC,EAAQe,iBACT,yBAAKzD,MAAO0C,EAAQS,MAAMlF,YAAauC,UAAU,0BAA0BE,MAAO,CAACC,gBAAe,cAAQ2I,EAAR,QAEnG,yBAAK9I,UAAS,yBAAuC,QAAnBsI,GAA8BpG,EAAQe,gBAAkC,GAAhB,iBACtFf,EAAQY,MAAQ,yBAAK9C,UAAS,mBAAsBkC,EAAQY,MAE7DyF,EAED,yBAAKvI,UAAS,gBACb,0BAAMb,GAAG,cAAca,UAAU,eAAekC,EAAQ6B,MACtD7B,EAAQG,gBAAkBH,EAAQE,WACnC,uBAAGjD,GAAG,gBAAgBa,UAAU,mDAAhC,YAECkC,EAAQG,iBAAmBH,EAAQE,WACpC,uBAAGjD,GAAG,gBAAgBa,UAAU,gCAAhC,qB,GAjGmBgJ,aA4G7BrB,GAAiB7K,EAAsB6K,I,0gCC7FjCsB,G,iCAEL,WAAY5L,GAAO,yBAChB,cAAMA,GADU,0BA2HJ,SAACd,GACTA,GAAgBA,EAAa2M,OAAOC,eACtC5M,EAAa6M,gBA7HC,8BAiIA,SAACnB,GACjB,GAAK,EAAKoB,gBAAV,CAIA,IAAMA,EAAkB,EAAKA,gBAAgBrC,QACE,oBAA3C1M,OAAOkB,UAAU8N,SAASvP,KAAKkO,GAKnCoB,EAAgBpC,UAAYoC,EAAgBlC,aAJ1CkC,EAAgBpC,UAAYgB,MAxId,oBA+IV,WAAM,MAC6B,EAAK5K,MAAtCV,EADI,EACJA,OAAQJ,EADJ,EACIA,aAAcsB,EADlB,EACkBA,OAC9B,GAAKtB,GAAiBsB,EAAtB,CAKA,IAAKtB,EAAc,CACjB,EAAK+C,SAAS,CACZiK,kBAAmB,OAGrB,IAAIpD,EAAwBxJ,EAAOsC,aAAamH,8BAC5CvI,IACFsI,EAAsBqD,eAAiB3L,EACvCsI,EAAsBvE,SAAU,GAGlCuE,EAAsBjF,MAAK,SAAC9B,EAAKqK,GAC3BA,EAAc1G,OAChB,EAAK1F,MAAMf,sBAAsBmN,EAAc,IAIjD9M,EAAO+M,KAAKjP,IAAIoD,GAAQ,SAACuB,EAAKyC,GAC5B,EAAKvC,SAAS,CACZiK,kBAAmB,CAAC3H,SAAS,EAAOC,gBAM5C,GAAKtF,EAAL,CAKA,IAAIoN,EAAmBpN,EAAaqN,yBACpCD,EAAiBtD,MAAQ,EAAKA,MAC9B,EAAKC,KAAO,EACZqD,EAAiBrD,KAAO,EAAKA,KAC7B,EAAKjJ,MAAMwM,eAAeF,GAGtBpN,EAAauN,mBAAqB,GACpCvN,EAAa6M,kBA5LC,+BAoOC,WACjB,EAAK/L,MAAMf,sBAAsB,MADV,IAGfkK,EAAqB,EAAKnJ,MAA1BmJ,iBACJA,GAA+C,mBAApBA,GAC7BA,OAvOF,EAAKH,MAAQ,GACb,EAAKC,KAAO,EAEZ,EAAKyD,aAAe,EAAKA,aAAa3O,KAAlB,QACpB,EAAK4O,YAAc,EAAKA,YAAY5O,KAAjB,QACnB,EAAK6O,YAAc,EAAKA,YAAY7O,KAAjB,QACnB,EAAKsL,SAAW,EAAKA,SAAStL,KAAd,QAChB,EAAK8O,YAAcC,KAAS,EAAKD,YAAa,KAC9C,EAAKE,UAAY,EAAKA,UAAUhP,KAAf,QAEjB,EAAKiO,gBAAkB5M,IAAMmK,YAE7B,EAAKhJ,MAAQ,CACXyM,KAAM,GACNd,kBAAmB,KACnB1L,OAAQ,MAjBM,E,wDAsBMC,KAAKT,MAAnBa,WAKRJ,KAAK+I,U,8CAGiB5I,GACtB,GAAIA,EAAUiD,KAAK6B,OAASjF,KAAKT,MAAM6D,KAAK6B,OAAQ,CAClD,IAAKjF,KAAKuL,gBACR,OAAO,KAGT,IAAMA,EAAkBvL,KAAKuL,gBAAgBrC,QAC7C,MAAO,CACLG,aAAckC,EAAgBlC,aAC9BmD,UAAWjB,EAAgBpC,UAC3BsD,aAAclB,EAAgBlC,aAAekC,EAAgBpC,WAIjE,OAAO,O,yCAGUhJ,EAAWuM,EAAWC,GAAU,aAMvB3M,KAAKT,MAJ7BV,EAF+C,EAE/CA,OACAJ,EAH+C,EAG/CA,aACAmO,EAJ+C,EAI/CA,WACA7M,EAL+C,EAK/CA,OAL+C,EAM/C8M,oBAcF,IAXiB1M,EAAUC,WAAaJ,KAAKT,MAAMa,WAEjDJ,KAAK+I,QAIH5I,EAAUJ,QAAUA,GAAUA,GAChCC,KAAK+I,SAIFtK,GAAgB0B,EAAU2M,iBAAmB9M,KAAKT,MAAMuN,eAAgB,CAC3E9M,KAAK+M,kBAEL,IAAI1E,EAAwBxJ,EAAOsC,aAAamH,8BAC5CvI,IACFsI,EAAsBqD,eAAiB3L,EACvCsI,EAAsBvE,SAAU,GAGlCuE,EAAsBjF,MAAK,SAAC9B,EAAKqK,GAC3BA,EAAc1G,OAChB,EAAK1F,MAAMf,sBAAsBmN,EAAc,IAIjD9M,EAAO+M,KAAKjP,IAAIoD,GAAQ,SAACuB,EAAKyC,GAC5B,EAAKvC,SAAS,CACZiK,kBAAmB,CAAC3H,SAAS,EAAOC,gBAM5C,GAAKtF,EAAL,CAcA,KAVM0B,EAAU1B,cAAgBA,GAAkB0B,EAAU1B,aAAa4C,IAAM5C,EAAa4C,KAC1FrB,KAAK+I,QAIH5I,EAAUsJ,UAAYzJ,KAAKT,MAAMkK,SACnCzJ,KAAK+M,mBAIF5M,EAAUyM,YAAcA,GAAgBA,GAAczM,EAAUyM,WAAWvL,IAAMuL,EAAWvL,GAC/FrB,KAAK+M,kBAEQlO,EAAOqF,iBACX7C,IAAMuL,EAAWvI,SACxBrE,KAAKoM,YAAY3N,GAKrB,GAAG0B,EAAUiD,KAAK6B,OAASjF,KAAKT,MAAM6D,KAAK6B,QACrC0H,EAAU,CACZ,IACMxC,EADkBnK,KAAKuL,gBAAgBrC,QACdG,aAAesD,EAASF,aACvDzM,KAAK+M,gBAAgB5C,O,mCA0Ed6C,GACXhN,KAAKwB,SAAS,CAAC+K,KAAMS,EAAM7C,OAAOpN,U,kCAGxBiQ,GACW,KAAlBA,EAAMC,UACPD,EAAME,iBACNlN,KAAKmM,iB,+BAIAgB,GAAM,MACoBnN,KAAKT,MAA9BV,EADK,EACLA,OAAQJ,EADH,EACGA,aAEZ2O,EAAWD,EAAK/O,KAAKsJ,MAAM,KAAK2F,QAGpCrN,KAAKT,MAAM+N,uBAAuBzO,EAAQJ,EAAc0O,EAD3C,GACuDC,K,oCAGxD,MAC6BpN,KAAKT,MAAtCd,EADI,EACJA,aAAcI,EADV,EACUA,OAAQkB,EADlB,EACkBA,OAE1BiF,EAAO,CACTA,KAFehF,KAAKF,MAAdyM,MAIRvM,KAAKwB,SAAS,CAAC+K,KAAM,KAEjB9N,EACFuB,KAAKT,MAAMgO,0BAA0B9O,EAAcuG,IAEnDA,EAAKjF,OAASA,EACdC,KAAKT,MAAMiO,oBAAoB3O,EAAQmG,M,iCAahC,MAC8DhF,KAAKT,MAApE6D,EADC,EACDA,KAAM3E,EADL,EACKA,aAAcoO,EADnB,EACmBA,oBAAqBY,EADxC,EACwCA,kBACjD,IAAKhP,EACH,OAAO,KAGT,IAAM8M,EAAkBvL,KAAKuL,gBAAgBrC,QAC7C,KAAI2D,GAAuBY,GAAqBrK,EAAK6B,OAASjF,KAAKuI,QAIhEgD,EAAgBpC,UAAYoC,EAAgBnC,aAAc,CAE3DpJ,KAAKwI,KAAOpF,EAAK6B,OAEjB,IAAI4G,EAAmBpN,EAAaqN,yBACpCD,EAAiBtD,MAAQvI,KAAKuI,MAC9BsD,EAAiBrD,KAAOxI,KAAKwI,KAC7BxI,KAAKT,MAAMmO,uBAAuB7B,M,4GAY5BmB,GACRhN,KAAK2N,SAASX,EAAM7C,OAAOyD,MAAM,M,+BAG1B,aAcH5N,KAAKT,MAZPV,EAFK,EAELA,OACA2K,EAHK,EAGLA,WACApJ,EAJK,EAILA,UACA7B,EALK,EAKLA,MACAkL,EANK,EAMLA,QACAoD,EAPK,EAOLA,oBACAzJ,EARK,EAQLA,KACA3E,EATK,EASLA,aACAkL,EAVK,EAULA,cACA5H,EAXK,EAWLA,YACA8L,EAZK,EAYLA,gBACAC,EAbK,EAaLA,uBAbK,EAe6B9N,KAAKF,MAAjCyM,EAfD,EAeCA,KAAMd,EAfP,EAeOA,kBAGThN,IACHA,EAAegN,EACfrI,EAAO,IAITA,EAAOY,EAAkBnF,EAAQJ,EAAc2E,GAG/C,IAMI2K,EACAC,EACAzE,EACA0E,EATAC,GAAmB,EACnBL,GAA6C,mBAAnBA,IAC5BK,EAAmBL,EAAgBpP,IAQjCA,IAEFuP,GADAvP,EAAeoF,EAAmBpF,IACPiD,MAC3B6H,EAAc9K,EAAamD,iBAEtBnD,EAAaqF,SAAWrF,EAAasF,OACxCkK,EAAiBxP,EAAasF,KAAKmE,SAAW,SAAW,aAAeiG,IAAO1P,EAAasF,KAAKqK,UAAUC,WAGzG5P,EAAaqF,UACfmK,EAAiBxP,EAAa6P,YAAc,YAO5CP,EAHEtP,EAAa8P,SAGA,yBAAKlN,GAAG,gBAAgBc,QAAS,kBAAM,EAAKqM,cAA5C,cAFA,yBAAKnN,GAAG,kBAAkBc,QAAS,kBAAM,EAAKsM,gBAA9C,iBAMN5P,EAAOqF,iBAEtB,OACE,yBAAK7C,GAAG,iBAAiBa,UAAU,kBAChCzD,GAAgB,kBAAC,EAAD,CACbmD,gBAAiB2H,EACjB7H,MAAOsM,EACPrM,SAAUsM,EACVlM,eAAcA,IAAegM,GAC7B/L,mBAAoB,WAClB,GAAK+L,EAIL,OACE,yBAAK7L,UAAU,qBACZ6L,IAIP9L,YAAa,WACX,OACE,kBAAC,IAAMgJ,SAAP,KACItB,GAAiB,uBAAGjI,MAAM,QAAQQ,UAAU,iBAAiBC,QAAS,EAAKuG,kBAA1D,aAM3B,yBAAKrH,GAAG,kBAAkBuI,IAAK5J,KAAKuL,gBAAiBrJ,UAAU,kBAAkB0G,SAAU5I,KAAK4I,UAC5F,yBAAK1G,UAAU,2BAAf,MAECsH,GAAcC,IAAa,yBAAKvH,UAAU,UAAS,kBAACQ,EAAD,OAEpDnE,GAAS,yBAAK2D,UAAU,gBAAgB3D,GAE1C,yBAAK2D,UAAU,eACX9B,IAAc3B,GAAgB,yBAAKyD,UAAU,0BAAf,2BAE9B2K,GAAwB,kBAACnK,EAAD,MAExBjE,IAAiB2E,EAAK6B,SAAWwE,GAAW,yBAAKvH,UAAU,0BAAf,mBAGjDkB,EAAKI,KAAI,SAAAY,GACF,OAAO,kBAAC,GAAD,CAAgB/G,IAAK+G,EAAQ/C,GAAI+C,QAASA,SAMvD3F,GACA,kBAAC,IAAMwM,SAAP,KACIiD,EACA,yBAAKhM,UAAU,4BACb,6BAAM4L,IAGX,yBAAKzM,GAAG,cAAca,UAAU,eAE3B,yBAAKA,UAAU,qBACb,uBAAGR,MAAM,QAAQQ,UAAU,qCAA3B,gBACA,2BAAOb,GAAG,mBAAmBa,UAAU,mBAAmB9D,KAAK,OAAOsQ,OAAO,UAAUC,SAAU3O,KAAKsM,aAGxG,yBAAKpK,UAAU,qBACb,uBAAGR,MAAM,WAAWQ,UAAU,qCAA9B,eACA,2BAAOb,GAAG,oBAAoBa,UAAU,oBAAoB9D,KAAK,OAAOsQ,OAAO,qCAAqCC,SAAU3O,KAAKsM,aAGzI,8BACMjL,GAAG,eACHa,UAAU,eACV9D,KAAK,OACLwQ,YAAY,iBACZ7R,MAAOwP,EACPoC,SAAU3O,KAAKiM,aACf4C,QAAS7O,KAAKkM,cAErB,4BAAQ7K,GAAG,iBAAiBa,UAAU,iBAAiBC,QAASnC,KAAKmM,aAAa,uBAAGjK,UAAU,+BAAb,gB,GA1Z5D1B,iBAoajC2K,GAAqBnM,EAAsBmM,IAM3CA,GAAqB1K,mBAJG,SAAC,GAAsB,IAArB2D,EAAqB,EAArBA,QAASvF,EAAY,EAAZA,OACjC,gBAAWuF,GAAYvF,KAKtB,CACCkN,eV7V0B,SAACF,GAC7B,OAAO,SAAA3N,GAKL,OAJAA,EAAS,CACPE,KHN8B,uBGO9BC,QAAS,KAEJwN,EAAiBzI,MAAK,SAAC9B,EAAKnD,GAC7BmD,GACFpD,EAAS,CACPE,KHXuB,oBGYvBC,QAASiD,IAGbpD,EAAS,CACPE,KHf4B,uBGgB5BC,QAASF,EAAS2Q,iBU+UtBvB,0BVzYqC,SAAC9O,EAAcuG,GACtD,OAAO,SAAA9G,GAKL,OAJAA,EAAS,CACPE,KHwCyB,kBGvCzBC,QAAS2G,IAEJvG,EAAa0N,YAAYnH,GAAM,SAAC1D,EAAKnD,GACtCmD,IACF0D,EAAKzG,MAAQ+C,EACbpD,EAAS,CACPE,KHkCuB,oBGjCvBC,QAAS2G,KAGb9G,EAAS,CACPE,KH8B4B,uBG7B5BC,QAASF,SU0XbqP,oBVpX+B,SAAC3O,EAAQmG,GAC1C,OAAO,SAAA9G,GAKL,OAJAA,EAAS,CACPE,KHkByB,kBGjBzBC,QAAS2G,IAEJnG,EAAOkQ,QAAQ5C,YAAYnH,GAAM,SAAC1D,EAAKnD,GACxCmD,GACFpD,EAAS,CACPE,KHauB,oBGZvBC,QAASiD,IAGbpD,EAAS,CACPE,KHS4B,uBGR5BC,QAASF,SUsWbmP,uBVlbkC,SAACzO,EAAQJ,EAAc0O,EAAMnI,EAAMgK,GACvE,OAAO,SAAA9Q,GACLA,EAAS,CACPE,KHkFsB,eGjFtBC,QAAS2G,IAGX,IAAIiK,EAAqC,gBAAnBD,EAELnQ,EAAOqQ,KAAKC,OAAOhC,EAAM6B,EAAgBC,GAAiB,SAAC3N,EAAK8N,GAC/E,OAAI9N,GACF0D,EAAKzG,MAAQ+C,OACbpD,EAAS,CACPE,KHyEoB,iBGxEpBC,QAAS2G,MAKbA,EAAI,YAAkB,CAACoK,GAChB3Q,EAAa0N,YAAYnH,GAAM,SAAC1D,EAAKnD,GAC1C,GAAImD,EAMF,OALA0D,EAAKzG,MAAQ+C,OACbpD,EAAS,CACPE,KH8DkB,iBG7DlBC,QAAS2G,IAIb9G,EAAS,CACPE,KHyDuB,oBGxDvBC,QAASF,aUoZfuP,uBV5U4B,SAAC7B,GAC/B,OAAO,SAAA3N,GAKL,OAJAA,EAAS,CACPE,KHlBoC,6BGmBpCC,QAAS,KAEJwN,EAAiBzI,MAAK,SAAC9B,EAAKnD,GAC7BmD,GACFpD,EAAS,CACPE,KHtB6B,0BGuB7BC,QAASiD,IAGbpD,EAAS,CACPE,KH5BkC,6BG6BlCC,QAASF,EAAS2Q,iBU8TtBtQ,yBARiBiC,CASnB0K,I,0gCCvbIkE,G,iCAEL,WAAY9P,GAAO,yBAChB,cAAMA,GADU,oBAiCV,WAAM,IAIR+P,EAHe,EAAK/P,MAAhBV,OAGsB+M,KAAK2D,sBACnCD,EAAiB/G,MAAQ,EAAKiH,aAC9BF,EAAiB9G,KAAO,EACxB8G,EAAiBG,KAAO,kCACxB,EAAKlQ,MAAMmQ,eAAeJ,MAzCV,8BAsDA,SAACvS,GAAU,IACnB8B,EAAW,EAAKU,MAAhBV,OAGJyQ,EAAmBzQ,EAAO+M,KAAK2D,sBACnCD,EAAiB/G,MAAQ,EAAKoH,YAC9BL,EAAiB9G,KAAO,EACxB8G,EAAiBM,OAAS7S,EAC1BuS,EAAiBG,KAAO,iCACxB,EAAKlQ,MAAMsQ,oBAAoBP,GAG/B,IAAIQ,EAAqBjR,EAAO+M,KAAK2D,sBACrCO,EAAmBvH,MAAQ,EAAKoH,YAChCG,EAAmBtH,KAAO,EAC1BsH,EAAmBF,OAAS7S,EAC5B+S,EAAmBL,KAAO,iCAC1B,EAAKlQ,MAAMwQ,iBAAiBD,MAvEZ,0BA0EJ,WACZ,EAAKtO,SAAS,CAACwO,WAAY,QA3EX,6BA8ED,SAACjQ,GAAW,IACnBkQ,EAAmB,EAAK1Q,MAAxB0Q,eACR,EAAK1Q,MAAM2Q,gBAAgBnQ,GAEvBkQ,GAA2C,mBAAlBA,GAC3BA,EAAelQ,MAjFjB,EAAK4P,YAAc,GACnB,EAAKH,aAAe,GAEpB,EAAK1P,MAAQ,CACXkQ,WAAY,IAGd,EAAK/D,aAAe,EAAKA,aAAa3O,KAAlB,QACpB,EAAK6S,gBAAkBC,KAAS,EAAKD,gBAAiB,KAVtC,E,wDAcMnQ,KAAKT,MAAnBa,WAKRJ,KAAK+I,U,yCAGY5I,GAAW,MACEH,KAAKT,MAAnBa,GADY,EACpBvB,OADoB,EACZuB,WACXA,IAIAD,EAAUC,WAAaA,GAC1BJ,KAAK+I,U,mCAeIiE,GACX,IAAIqD,EAAarD,EAAM7C,OAAOpN,MAC9BiD,KAAKwB,SAAS,CAACwO,WAAYK,IAEtBA,GAGLrQ,KAAKmQ,gBAAgBE,K,+BAoCd,aAWHrQ,KAAKT,MATPiK,EAFK,EAELA,WACApJ,EAHK,EAGLA,UACAkQ,EAJK,EAILA,mBACAC,EALK,EAKLA,qBACAC,EANK,EAMLA,YACAC,EAPK,EAOLA,cACAC,EARK,EAQLA,cACA7O,EATK,EASLA,cACAC,EAVK,EAULA,OAEMkO,EAAehQ,KAAKF,MAApBkQ,WAEJ5M,EAAOoN,EACPR,EACF5M,EAAOsN,EAEPD,EAAgB,GAGlB,IAAME,IAAgBF,EAAcxL,OAErC,OACG,yBAAK5D,GAAG,mBAAmBa,UAAU,oBACnC,kBAAC,EAAD,CACEL,cAAeA,EACfC,OAAQA,EACRJ,MAAO3D,IAGT,yBAAKsD,GAAG,gBAAgBa,UAAU,iBAChC,2BAAO0M,YAAY,SAASvN,GAAG,sBAAsBa,UAAU,sBAAsBnF,MAAOiT,EAAYrB,SAAU3O,KAAKiM,eACrH+D,GAAc,uBAAG3O,GAAG,uBAAuBa,UAAU,sCAAsCC,QAASnC,KAAK4Q,aAA3F,UAGlB,yBAAKvP,GAAG,iBAAiBa,UAAU,mBAC9BsH,GAAc8G,IAAuB,yBAAKpO,UAAU,UAAS,kBAACQ,EAAD,OAE9D6N,GAAwB,6BAAK,kBAAC7N,EAAD,OAE7BtC,GAAa4P,IAAe5M,EAAK6B,SAAW0L,IAAkBL,IAAuBC,GAAwB,yBAAKrO,UAAU,0BAAf,mBAE/G,yBAAKb,GAAG,qBACH2O,IAAeM,GAAsB,yBAAKjP,GAAG,eAAea,UAAU,gBAAgBnE,GAExFqF,EAAKI,KAAI,SAAAqN,GACR,IAAMC,EAASD,EAAOjP,gBAAkBiP,EAAOjP,gBAAkB5D,EACjE,OACE,wBAAIX,IAAKwT,EAAOxP,GAAIA,GAAIwP,EAAOxP,GAAIa,UAAU,kBAAkBC,QAAS,kBAAM,EAAK8N,eAAeY,EAAOxP,MACvG,yBAAKa,UAAU,iBAAiBE,MAAO,CAACC,gBAAe,cAAQyO,EAAR,OACnDD,EAAO3I,UAAY,0BAAMhG,UAAU,oCAEvC,yBAAKb,GAAG,iBAAiBa,UAAU,kBAAkB2O,EAAOlR,kBAMlEgR,GACA,yBAAKtP,GAAG,gBACN,yBAAKA,GAAG,gBAAgBa,UAAU,iBAAiBnE,GACjD0S,EAAcjN,KAAI,SAACO,GACnB,IAAM+M,EAAS/M,EAAKnC,gBAAkBmC,EAAKnC,gBAAkB5D,EAC7D,OACE,wBAAIX,IAAK0G,EAAK1C,GAAIA,GAAI0C,EAAK1C,GAAIa,UAAU,kBAAkBC,QAAS,kBAAM,EAAK8N,eAAelM,EAAK1C,MACjG,yBAAKa,UAAU,iBAAiBE,MAAO,CAACC,gBAAe,cAAQyO,EAAR,OACnD/M,EAAKmE,UAAY,0BAAMhG,UAAU,oCAErC,yBAAKb,GAAG,iBAAiBa,UAAU,kBAAkB6B,EAAKpE,wB,GA9JnDa,iBA0K3B6O,GAAerQ,EAAsBqQ,IAMrCA,GAAe5O,mBAJS,SAAC,GAAmB,IAAlBsD,EAAkB,EAAlBA,KAAMlF,EAAY,EAAZA,OAC9B,gBAAWkF,GAASlF,KAKpB,CACA6Q,eCnL4B,SAACqB,GAC7B,OAAO,SAAA7S,GAKL,OAJAA,EAAS,CACPE,Kf0D8B,uBezD9BC,QAAS,KAEJ0S,EAAcC,aAAY,SAAC1P,EAAKnD,GACjCmD,GACFpD,EAAS,CACPE,KfqDuB,oBepDvBC,QAASiD,IAGbpD,EAAS,CACPE,KfiD4B,uBehD5BC,QAASF,SDqKf8S,gBC/J6B,SAACF,GAC9B,OAAO,SAAA7S,GAKL,OAJAA,EAAS,CACPE,KfwCmC,4BevCnCC,QAAS,KAEJ0S,EAAcC,aAAY,SAAC1P,EAAKnD,GACjCmD,GACFpD,EAAS,CACPE,KfoC4B,yBenC5BC,QAASiD,IAGbpD,EAAS,CACPE,Kf8BiC,4Be7BjCC,QAASF,SDiJf4R,iBC3I8B,SAACgB,GAC/B,OAAO,SAAA7S,GAKL,OAJAA,EAAS,CACPE,KfsBiC,0BerBjCC,QAAS,KAEJ0S,EAAcG,WAAU,SAAC5P,EAAKnD,GAC/BmD,GACFpD,EAAS,CACPE,KfiB0B,uBehB1BC,QAASiD,IAGbpD,EAAS,CACPE,Kfa+B,0BeZ/BC,QAASF,SD6Hf0R,oBCvH2B,SAACkB,GAC5B,OAAO,SAAA7S,GAKL,OAJAA,EAAS,CACPE,KfIgC,yBeHhCC,QAAS,KAEJ0S,EAAcC,aAAY,SAAC1P,EAAKnD,GACjCmD,GACFpD,EAAS,CACPE,KfAyB,sBeCzBC,QAASiD,IAGbpD,EAAS,CACPE,KfN8B,yBeO9BC,QAASF,SDyGf+R,gBXhD6B,SAACnQ,GAC9B,OAAO,SAAA7B,GACLA,EAAS,CACPE,KH5C2B,oBG6C3BC,QAAS0B,OWqCAU,CAQb4O,I,knBEhMF,I,MAAM8B,GAAgB,CACpB/Q,WAAW,EACX7B,MAAO,M,mBC2PMoE,KAlPO,CACpBS,KAAM,GACNqG,SAAS,EACTT,0BAA0B,EAC1BC,wBAAwB,EACxB1K,MAAO,OA4NY,ajB1JoB,6BiB/DF,SAACuB,EAAOgD,GAC7ChD,EAAM2J,SAAU,KAwNG,OjBzJiB,0BiBvDF,SAAC3J,EAAOgD,GAC1ChD,EAAM2J,SAAU,EAChB3J,EAAMvB,MAAQuE,EAAOzE,WA8MF,OjBxJoB,6BiB7DF,SAACyB,EAAOgD,GAC7ChD,EAAM2J,SAAU,EAChB3J,EAAMsD,KAAON,EAAOzE,WAmND,OjBvJ0B,mCiBpDH,SAACyB,EAAOgD,GAClDhD,EAAMkJ,0BAA2B,KA0Md,OjBtJuB,gCiBvCH,SAAClJ,EAAOgD,GAC/ChD,EAAMkJ,0BAA2B,EACjClJ,EAAMvB,MAAQuE,EAAOzE,WA2LF,OjBrJ0B,mCiBlDH,SAACyB,EAAOgD,GAClDhD,EAAMkJ,0BAA2B,EAC5BlG,EAAOzE,QAAQ4G,QAGlBnF,EAAMsD,KAAN,eAAiBtD,EAAMsD,MAAvB,KAAgCN,EAAOzE,UACvCyB,EAAMsD,KAAOD,EAAWrD,EAAMsD,OAH9BtD,EAAMmJ,wBAAyB,KAoMd,OjBjLoB,uBiBPR,SAACnJ,EAAOgD,GACvC,IAAIiB,EAAOjB,EAAOzE,QAAQ0F,KACpBqN,EAAYtR,EAAMsD,KAAKI,KAAI,SAAC/E,EAAc4S,GAC9C,OAAK5S,EAAaqF,SAAWrF,EAAasF,KAAK1C,IAAM0C,EAAK1C,KACxD5C,EAAasF,KAAKmE,SAAWnE,EAAKmE,SAClCzJ,EAAasF,KAAKqK,SAAWrK,EAAKqK,UAI3B3P,KAIXqB,EAAMsD,KAAOgO,KA2KM,OjBlLqB,8BiB4BR,SAACtR,EAAOgD,GACxC,IAEIwO,EACAC,EAHAnN,EAAUtB,EAAOzE,QAAQ+F,QAKvBgN,EAAYtR,EAAMsD,KAAKI,KAAI,SAAC/E,EAAc4S,GAC9C,OAAI5S,EAAa4C,IAAM+C,EAAQoN,gBAC7B/S,EAAawF,YAAcG,EAC3B3F,EAAawJ,UAAYnF,EAAOzE,QAAQoT,UAExCH,EAAoBD,EACpBE,EAAqB9S,EAEdA,GAEAA,KAKP6S,EAAoB,IACtBF,EAAUM,OAAOJ,EAAmB,GACpCF,EAAUO,QAAQJ,IAGpBzR,EAAMsD,KAAOgO,KA4HM,OjB7KY,qBiBkFP,SAACtR,EAAOgD,GAAW,IACnCrE,EAAiBqE,EAAOzE,QAAxBI,aACRqB,EAAMsD,KAAW,CAAC3E,GAAlB,YAAoCqB,EAAMsD,OAC1CtD,EAAMsD,KAAOD,EAAWrD,EAAMsD,SAwFX,OjB5Kc,uBiBuFP,SAACtD,EAAOgD,GAAW,IAGzCwO,EACAC,EAJyC,EACFzO,EAAOzE,QAA5CI,EADuC,EACvCA,aAAcmT,EADyB,EACzBA,QAASH,EADgB,EAChBA,UAKvBL,EAAYtR,EAAMsD,KAAKI,KAAI,SAACC,EAAM4N,GACtC,OAAI5N,EAAKpC,IAAM5C,EAAa4C,IAC1BoC,EAAK6K,YAAc7P,EAAa6P,YAChC7K,EAAKwE,UAAYwJ,EACjBhO,EAAKmO,QAAUnO,EAAKmO,QAAQC,OAAOD,GAEnCN,EAAoBD,EACpBE,EAAqB9N,EAEdA,GAEAA,KAKP6N,EAAoB,IACtBF,EAAUM,OAAOJ,EAAmB,GACpCF,EAAUO,QAAQJ,IAGpBzR,EAAMsD,KAAOgO,KA0DM,OjB3KgB,yBiBoHP,SAACtR,EAAOgD,GAAW,IAG3CwO,EACAC,EAJ2C,EACJzO,EAAOzE,QAA5CI,EADyC,EACzCA,aAAcmT,EAD2B,EAC3BA,QAASH,EADkB,EAClBA,UAKvBL,EAAYtR,EAAMsD,KAAKI,KAAI,SAACC,EAAM4N,GACtC,OAAI5N,EAAKpC,IAAM5C,EAAa4C,IAC1BoC,EAAK6K,YAAc7P,EAAa6P,YAChC7K,EAAKwE,UAAYwJ,EAGjBG,EAAQzN,SAAQ,SAAA2N,GACd,IAAMT,EAAQ5N,EAAKmO,QAAQG,WAAU,SAAAC,GAAM,OAAIA,EAAOjS,QAAU+R,EAAczQ,MAC1EgQ,GAAQ,GACV5N,EAAKmO,QAAQF,OAAOL,EAAO,MAI/BC,EAAoBD,EACpBE,EAAqB9N,EAEdA,GAEAA,KAKP6N,EAAoB,IACtBF,EAAUM,OAAOJ,EAAmB,GACpCF,EAAUO,QAAQJ,IAGpBzR,EAAMsD,KAAOgO,KAqBM,OjB1KqB,8BiBiDP,SAACtR,EAAOgD,GACzC,IAEIwO,EACAC,EAHA9S,EAAeqE,EAAOzE,QAAQI,aAK5B2S,EAAYtR,EAAMsD,KAAKI,KAAI,SAACC,EAAM4N,GACtC,OAAI5N,EAAKpC,IAAM5C,EAAa4C,IAC1BoC,EAAK/B,MAAQjD,EAAaiD,MAC1B+B,EAAK7B,gBAAkBnD,EAAamD,gBACpC6B,EAAKwE,UAAYnF,EAAOzE,QAAQoT,UAEhCH,EAAoBD,EACpBE,EAAqB9N,EAEdA,GAEAA,KAKP6N,EAAoB,IACtBF,EAAUM,OAAOJ,EAAmB,GACpCF,EAAUO,QAAQJ,IAGpBzR,EAAMsD,KAAOgO,KA8FM,OjBzKa,sBiBCP,SAACtR,EAAOgD,GACjC,IAAIiB,EAAOjB,EAAOzE,QAAQ0F,KACpBqN,EAAYtR,EAAMsD,KAAKI,KAAI,SAAC/E,EAAc4S,GAC9C,OAAK5S,EAAaqF,SAAWrF,EAAasF,KAAK1C,IAAM0C,EAAK1C,KACxD5C,EAAasF,KAAKmE,SAAWnE,EAAKmE,SAClCzJ,EAAasF,KAAKqK,SAAWrK,EAAKqK,SAClC3P,EAAasF,KAAKpE,YAAcoE,EAAKpE,YACrClB,EAAasF,KAAKnC,gBAAkBmC,EAAKnC,iBAIlCnD,KAIXqB,EAAMsD,KAAOgO,KAyJM,OjBhLa,sBiB8JR,SAACtR,EAAOgD,GAAW,MACHA,EAAOzE,QAAzCI,EADqC,EACrCA,aAAcsF,EADuB,EACvBA,KAAM0N,EADiB,EACjBA,UAEpBL,EAAYtR,EAAMsD,KAAKI,KAAI,SAACC,EAAM4N,GACtC,OAAI5N,EAAKpC,IAAM5C,EAAa4C,IACtBoC,EAAKwO,WAAWlO,EAAK1C,MACvBoC,EAAKwO,WAAWlO,EAAK1C,IAAMoQ,GAGtBhO,GAEAA,KAIX3D,EAAMsD,KAAOgO,KAGM,K,6kBC5NrB,I,GAwMezO,KAxMO,CACpBS,KAAM,GACNqG,SAAS,EACTlL,MAAO,KACPsO,qBAAqB,EACrBY,mBAAmB,EACnBX,gBAAgB,EAGhBrO,aAAc,KACdsB,OAAQ,KAER6M,WAAY,OAuKO,alB1Ge,wBkB1DF,SAAC9M,EAAOgD,GACxChD,EAAM2J,SAAU,EAChB3J,EAAMsD,KAAO,GACbtD,EAAM2N,mBAAoB,KAiKP,OlBxGe,wBkBtDF,SAAC3N,EAAOgD,GACxChD,EAAM2J,SAAU,EAChB3J,EAAMsD,KAAON,EAAOzE,WA4JD,OlBzGY,qBkBhDF,SAACyB,EAAOgD,GACrChD,EAAM2J,SAAU,EAChB3J,EAAMvB,MAAQuE,EAAOzE,WAuJF,OlBvGU,mBkB1BD,SAACyB,EAAOgD,GACpChD,EAAMgN,gBAAiB,KAgIJ,OlBrGe,wBkBrBF,SAAChN,EAAOgD,GACxChD,EAAMgN,gBAAiB,EACvBhN,EAAMsD,KAAN,eAAiBtD,EAAMsD,MAAS,CAACN,EAAOzE,UACxCyB,EAAMsD,KAAOD,EAAWrD,EAAMsD,SAuHX,OlBtGY,qBkBdF,SAACtD,EAAOgD,GACrCA,EAAOzE,QAAQ6T,OAAS,SACxBpS,EAAMsD,KAAN,eAAiBtD,EAAMsD,MAAS,CAACN,EAAOzE,UACxCyB,EAAMsD,KAAOD,EAAWrD,EAAMsD,SAiHX,OlBjGqB,8BkBnDH,SAACtD,EAAOgD,GAC7ChD,EAAM+M,qBAAsB,KAmJT,OlBhGqB,8BkB3CH,SAAC/M,EAAOgD,GAC7ChD,EAAM+M,qBAAsB,EACvB/J,EAAOzE,QAAQ4G,QAGlBnF,EAAMsD,KAAN,eAAiBN,EAAOzE,SAAxB,KAAoCyB,EAAMsD,OAC1CtD,EAAMsD,KAAOD,EAAWrD,EAAMsD,OAH9BtD,EAAM2N,mBAAoB,KAwIT,OlB/FkB,2BkBjDH,SAAC3N,EAAOgD,GAC1ChD,EAAM+M,qBAAsB,EAC5B/M,EAAMvB,MAAQuE,EAAOzE,WA8IF,OlB9FkB,2BkBhBF,SAACyB,EAAOgD,GAC3ChD,EAAMrB,aAAeqE,EAAOzE,QAC5ByB,EAAMC,OAAS,QA4GI,OlB7FY,qBkBZF,SAACD,EAAOgD,GACrChD,EAAMC,OAAS+C,EAAOzE,QACtByB,EAAMrB,aAAe,QAuGF,OlBjIqB,8BkBuCP,SAACqB,EAAOgD,GAAW,MACfA,EAAOzE,QAAQI,aAA9C4C,EAD8C,EAC9CA,GAAIK,EAD0C,EAC1CA,MAAOE,EADmC,EACnCA,gBACjB,GAAI9B,EAAMrB,cAAgBqB,EAAMrB,aAAa4C,IAAMA,EAAI,CACrD,IACI5C,EAAe,SADKqB,EAAMrB,aAAa0T,UAC3B,IAAwBzQ,QAAOE,kBAAiBqG,UAAWnF,EAAOzE,QAAQoT,YAGpF5S,EAASuT,cAAWC,KAAKC,OAAOC,cACtCzS,EAAMrB,aAAe,IAAI2T,cAAWC,KAAKlR,aAAaqR,MAAM3T,EAAQJ,OAkFnD,OlBnIc,uBkBqDP,SAACqB,EAAOgD,GAAW,MACFA,EAAOzE,QAA5CI,EADuC,EACvCA,aAAcmT,EADyB,EACzBA,QAASH,EADgB,EAChBA,UAC7B,GAAI3R,EAAMrB,cAAgBqB,EAAMrB,aAAa4C,IAAM5C,EAAa4C,GAAI,CAClE,IAAIoR,EAAkB3S,EAAMrB,aAAa0T,SACzCM,EAAgBb,QAAUa,EAAgBb,QAAQC,OAAOD,GACzDa,EAAgBnE,YAAc7P,EAAa6P,YAC3CmE,EAAgBxK,UAAYwJ,EAG5B,IAAM5S,EAASuT,cAAWC,KAAKC,OAAOC,cACtCzS,EAAMrB,aAAe,IAAI2T,cAAWC,KAAKlR,aAAaqR,MAAM3T,EAAQ4T,OAoEnD,OlBlIgB,yBkBkEP,SAAC3S,EAAOgD,GAAW,MACJA,EAAOzE,QAA5CI,EADyC,EACzCA,aAAcmT,EAD2B,EAC3BA,QAASH,EADkB,EAClBA,UAC7B,GAAI3R,EAAMrB,cAAgBqB,EAAMrB,aAAa4C,IAAM5C,EAAa4C,GAAI,CAClE,IAAIoR,EAAkB3S,EAAMrB,aAAa0T,SACzCM,EAAgBnE,YAAc7P,EAAa6P,YAC3CmE,EAAgBxK,UAAYwJ,EAG5BG,EAAQzN,SAAQ,SAAA2N,GACd,IAAMT,EAAQoB,EAAgBb,QAAQG,WAAU,SAAAC,GAAM,OAAIA,EAAOjS,QAAU+R,EAAczQ,MACrFgQ,GAAQ,GACVoB,EAAgBb,QAAQF,OAAOL,EAAO,MAK1C,IAAMxS,EAASuT,cAAWC,KAAKC,OAAOC,cACtCzS,EAAMrB,aAAe,IAAI2T,cAAWC,KAAKlR,aAAaqR,MAAM3T,EAAQ4T,OA+CnD,OlBzIqB,8BkBqCR,SAAC3S,EAAOgD,GACxC,IAAIsB,EAAUtB,EAAOzE,QAAQ+F,QACzBtE,EAAMrB,cAAgBqB,EAAMrB,aAAa4C,IAAM+C,EAAQoN,iBACzD1R,EAAMsD,KAAN,eAAiBtD,EAAMsD,MAAS,CAACgB,IACjCtE,EAAMsD,KAAOD,EAAWrD,EAAMsD,MAE9BtD,EAAM8M,WAAaxI,MA8FF,OlBxIoB,uBkB6FR,SAACtE,EAAOgD,GACvC,IAAMiB,EAAOjB,EAAOzE,QAAQ0F,KAC5B,GAAIjE,EAAMrB,eAAiBqB,EAAMrB,aAAaqF,SAAWhE,EAAMrB,aAAasF,KAAK1C,IAAM0C,EAAK1C,GAAI,CAC9F,IAAIoR,EAAkB3S,EAAMrB,aAAa0T,SACzCM,EAAgB1O,KAAKmE,SAAWnE,EAAKmE,SACrCuK,EAAgB1O,KAAKqK,SAAWrK,EAAKqK,SAGrC,IAAMvP,EAASuT,cAAWC,KAAKC,OAAOC,cACtCzS,EAAMrB,aAAe,IAAI2T,cAAWC,KAAKlR,aAAaqR,MAAM3T,EAAQ4T,OAkCnD,OlBhIa,sBkBkGP,SAAC3S,EAAOgD,GACjC,IAAMiB,EAAOjB,EAAOzE,QAAQ0F,KAC5B,GAAIjE,EAAMrB,eAAiBqB,EAAMrB,aAAaqF,SAAWhE,EAAMrB,aAAasF,KAAK1C,IAAM0C,EAAK1C,GAAI,CAC9F,IAAIoR,EAAkB3S,EAAMrB,aAAa0T,SACzCM,EAAgB1O,KAAKmE,SAAWnE,EAAKmE,SACrCuK,EAAgB1O,KAAKqK,SAAWrK,EAAKqK,SACrCqE,EAAgB1O,KAAKpE,YAAcoE,EAAKpE,YACxC8S,EAAgB1O,KAAKnC,gBAAkBmC,EAAKnC,gBAG5C,IAAM/C,EAASuT,cAAWC,KAAKC,OAAOC,cACtCzS,EAAMrB,aAAe,IAAI2T,cAAWC,KAAKlR,aAAaqR,MAAM3T,EAAQ4T,OAmBnD,OlBvIa,sBkBwHR,SAAC3S,EAAOgD,GAAW,MACHA,EAAOzE,QAAzCI,EADqC,EACrCA,aAAcsF,EADuB,EACvBA,KAAM0N,EADiB,EACjBA,UAE1B,GAAI3R,EAAMrB,cAAgBqB,EAAMrB,aAAa4C,IAAM5C,EAAa4C,GAAI,CAClE,IAAIoR,EAAkB3S,EAAMrB,aAAa0T,SACrCM,EAAgBR,WAAWlO,EAAK1C,MAClCoR,EAAgBR,WAAWlO,EAAK1C,IAAMoQ,GAIxC,IAAM5S,EAASuT,cAAWC,KAAKC,OAAOC,cACtCzS,EAAMrB,aAAe,IAAI2T,cAAWC,KAAKlR,aAAaqR,MAAM3T,EAAQ4T,OAInD,KC5FN9P,KA9FO,CACpB6N,YAAa,GACbF,oBAAoB,EACpB/R,MAAO,KACPmU,oBAAoB,EACpBC,kBAAkB,EAElBlC,cAAe,GACfmC,sBAAsB,EAEtBlC,cAAe,GACfH,sBAAsB,IAoEH,anBnBe,wBmB9CF,SAACzQ,EAAOgD,GACxChD,EAAMwQ,oBAAqB,EAC3BxQ,EAAM6S,kBAAmB,EACzB7S,EAAM0Q,YAAa,MA8DA,OnBjBe,wBmB1CF,SAAC1Q,EAAOgD,GACxChD,EAAMwQ,oBAAqB,EAC3BxQ,EAAM0Q,YAAc1N,EAAOzE,WAyDR,OnBlBY,qBmBpCF,SAACyB,EAAOgD,GACrChD,EAAMwQ,oBAAqB,EAC3BxQ,EAAMvB,MAAQuE,EAAOzE,WAoDF,OnBhBoB,6BmBjCH,SAACyB,EAAOgD,GAC5ChD,EAAM4S,oBAAqB,KAgDR,OnBfoB,6BmBzBH,SAAC5S,EAAOgD,GAC5ChD,EAAM4S,oBAAqB,EACtB5P,EAAOzE,QAAQ4G,QAGlBnF,EAAM0Q,YAAN,eAAwB1Q,EAAM0Q,aAA9B,KAA8C1N,EAAOzE,UACrDyB,EAAM0Q,YAAcrN,EAAWrD,EAAM0Q,cAHrC1Q,EAAM6S,kBAAmB,KAqCR,OnBdiB,0BmB/BH,SAAC7S,EAAOgD,GACzChD,EAAM4S,oBAAqB,EAC3B5S,EAAMvB,MAAQuE,EAAOzE,WA2CF,OnBbkB,2BmBjBH,SAACyB,EAAOgD,GAC1ChD,EAAM8S,sBAAuB,EAC7B9S,EAAM2Q,cAAgB,MA4BH,OnBXkB,2BmBdH,SAAC3Q,EAAOgD,GAC1ChD,EAAM8S,sBAAuB,EAC7B9S,EAAM2Q,cAAgB3N,EAAOzE,WAuBV,OnBZe,wBmBRH,SAACyB,EAAOgD,GACvChD,EAAM8S,sBAAuB,EAC7B9S,EAAMvB,MAAQuE,EAAOzE,WAkBF,OnBViB,0BmBLF,SAACyB,EAAOgD,GAC1ChD,EAAMyQ,sBAAuB,EAC7BzQ,EAAM4Q,cAAgB,MAaH,OnBTiB,0BmBDF,SAAC5Q,EAAOgD,GAC1ChD,EAAMyQ,sBAAuB,EAC7BzQ,EAAM4Q,cAAgB5N,EAAOzE,WAQV,OnBRc,uBmBGF,SAACyB,EAAOgD,GACvChD,EAAMyQ,sBAAuB,EAC7BzQ,EAAMvB,MAAQuE,EAAOzE,WAGF,KCzFNwU,8BAAgB,CAC7BhU,OJKa,WAAmC,IAAlCiB,EAAkC,uDAA1BqR,GAAerO,EAAW,uCAChD,OAAQA,EAAO1E,MACb,IhB8C2B,kBgB7C5B,gBAAY0B,GAAZ,IAAmBM,WAAW,IAChC,IhB6C2B,egB5CzB,gBAAYN,GAAZ,IAAmBM,WAAW,EAAO7B,MAAOuE,EAAOzE,UACrD,IhB4CiC,qBgB3C/B,gBAAYyB,GAAZ,IAAmBM,WAAW,IAChC,IhB2C8B,kBgB1C5B,gBAAYN,GAAZ,IAAmBM,WAAW,EAAM7B,MAAOuE,EAAOzE,UAClD,QACG,OAAOyB,IIfXrB,aAAcqU,GACd1O,QAAS2O,GACThP,KAAMiP,KCAFC,GAAa,CACjBC,MAUF,IAAMC,GAPgBC,WAOmB,WAAf,GACxBC,mBAAe,WAAf,EAAmBJ,KADK,OAZR,KAiBLK,GAAQC,uBACnBC,GAnBmB,GAqBnBL,IC7BF","file":"dist/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n","module.exports = require(\"react\");","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");","module.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");","module.exports = require(\"@babel/runtime/helpers/classCallCheck\");","module.exports = require(\"@babel/runtime/helpers/createClass\");","module.exports = require(\"@babel/runtime/helpers/inherits\");","module.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");","module.exports = require(\"@babel/runtime/helpers/toConsumableArray\");","module.exports = require(\"channelize-chat\");","module.exports = require(\"react-redux\");","module.exports = require(\"redux\");","module.exports = require(\"moment\");","module.exports = require(\"immer\");","module.exports = require(\"@babel/runtime/helpers/extends\");","module.exports = require(\"lodash/throttle\");","module.exports = require(\"lodash/debounce\");","module.exports = require(\"redux-thunk\");","module.exports = require(\"redux-logger\");","module.exports = require(\"remote-redux-devtools\");","export const LANGUAGE_PHRASES = {\n\tCHAT : \"Chat\",\n\tCLOSE : \"Close\",\n\tONLINE : \"Online\",\n\tNO_CONV_FOUND : \"No conversations found!\",\n\tNO_MESSAGES_FOUND : \"No messages found!\",\n\tDELETED_MEMBER : \"Deleted Member\",\n\tMESSAGE_DELETED : \"This message was deleted\",\n\tLAST_SEEN : \"Last Seen \",\n\tMUTE_CONV : \"Mute Conversation\",\n\tCLEAR_CONV : \"Clear Conversation\",\n\tDELETE_CONV : \"Delete Conversation\",\n\tBLOCK_USER : \"Block User\",\n\tUNBLOCK_USER : \"Unblock User\",\n\tSEND_MESSAGE : \"Send a message\",\n\tDELETE : \"Delete\",\n\tIMAGE : \"Image\",\n\tAUDIO : \"Audio\",\n\tVIDEO : \"Video\",\n\tLOCATION : \"Location\",\n\tSTICKER : \"Sticker\",\n\tGIF : \"GIF\",\n\tSEND_ATTACHMENTS : \"Send Attachments\",\n\tMEMBERS : \"Members\",\n\tFILE_SIZE_WARNING : \"File size should be less then 25mb\",\n\tSEARCH : \"Search\",\n\tSUGGESTED : \"Suggested\",\n\tMORE_USERS : \"More Users\",\n\tLOGIN : \"Login\",\n\tLOGOUT : \"Logout\",\n\tNAME : \"Name\",\n\tSTART : \"Start\",\n\tLOGIN_WITH_TEST_USERS : \"OR Login with Test users\",\n\tENTER_NAME : \"Please enter a name\",\n\tUSER_EXIST : \"User already exist with this username\",\n\tDELETE_FOR_ME : \"Delete for me\",\n\tDELETE_FOR_EVERYONE : \"Delete for everyone\"\n}\n\nexport const IMAGES = {\n\tLAUNCHER_ICON : \"https://cdn.channelize.io/apps/web-widget/1.0.0/images/launcher-icon.svg\",\n\tANNA_SMITH : \"https://cdn.channelize.io/apps/web-widget/1.0.0/images/anna-smith.jpg\",\n\tKATRINA_CHARLEY : \"https://cdn.channelize.io/apps/web-widget/1.0.0/images/katrina-charley.png\",\n\tNATALIE_IVANOVIC : \"https://cdn.channelize.io/apps/web-widget/1.0.0/images/natalie-ivanovic.jpeg\",\n\tERIC_ANDREWS : \"https://cdn.channelize.io/apps/web-widget/1.0.0/images/eric-andrews.jpeg\",\n\tGALLERY_ICON : \"https:/cdn.channelize.io/apps/web-widget/1.0.0/images/gallery.png\",\n\tAUDIO_ICON : \"https://cdn.channelize.io/apps/web-widget/1.0.0/images/audio.png\",\n\tVIDEO_ICON : \"https://cdn.channelize.io/apps/web-widget/1.0.0/images/video.svg\",\n\tLOCATION_ICON : \"https://cdn.channelize.io/apps/web-widget/1.0.0/images/location.svg\",\n\tSTICKER_ICON : \"https://cdn.channelize.io/apps/web-widget/1.0.0/images/sticker.png\",\n\tGIF_ICON : \"https://cdn.channelize.io/apps/web-widget/1.0.0/images/gif.png\",\n\tAVTAR : \"https://cdn.channelize.io/apps/web-widget/1.0.0/images/avtar.png\",\n\tGROUP : \"https://cdn.channelize.io/apps/web-widget/1.0.0/images/group.png\",\n}\n\nexport const SETTINGS = {\n\tLOCATION_API_KEY : \"AIzaSyBzrL8FaUvmYPIxEUd_VTPpqcACtPdniik\",\n\tLOCATION_IMG_URL : \"https://maps.googleapis.com/maps/api/staticmap\"\n}\n\nexport const CONNECT_SUCCESS = 'CONNECT_SUCCESS'\nexport const CONNECT_FAIL = 'CONNECT_FAIL'\nexport const DISCONNECT_SUCCESS = 'DISCONNECT_SUCCESS'\nexport const DISCONNECT_FAIL = 'DISCONNECT_FAIL'\n\nexport const NEW_MESSAGE_RECEIVED_EVENT = 'NEW_MESSAGE_RECEIVED_EVENT'\nexport const USER_STATUS_UPDATED_EVENT = 'USER_STATUS_UPDATED'\nexport const MARK_AS_READ_EVENT = 'MARK_AS_READ_EVENT'\nexport const USER_BLOCKED_EVENT = 'USER_BLOCKED_EVENT'\nexport const USER_UNBLOCKED_EVENT = 'USER_UNBLOCKED_EVENT'\nexport const USER_JOINED_EVENT = 'USER_JOINED_EVENT'\nexport const MEMBERS_ADDED_EVENT = 'MEMBERS_ADDED_EVENT'\nexport const MEMBERS_REMOVED_EVENT = 'MEMBERS_REMOVED_EVENT'\nexport const CONVERSATION_UPDATED_EVENT = 'CONVERSATION_UPDATED_EVENT'\nexport const USER_UPDATED_EVENT = 'USER_UPDATED_EVENT'\n\nexport const LOADING_FRIENDS_LIST = 'LOADING_FRIENDS_LIST'\nexport const FRIENDS_LIST_FAIL = 'FRIENDS_LIST_FAIL'\nexport const FRIENDS_LIST_SUCCESS = 'FRIENDS_LIST_SUCCESS'\nexport const LOADING_LOAD_MORE_FRIENDS = 'LOADING_LOAD_MORE_FRIENDS'\nexport const LOAD_MORE_FRIENDS_SUCCESS = 'LOAD_MORE_FRIENDS_SUCCESS'\nexport const LOAD_MORE_FRIENDS_FAIL = 'LOAD_MORE_FRIENDS_FAIL'\nexport const LOADING_MORE_USERS_LIST = 'LOADING_MORE_USERS_LIST'\nexport const MORE_USERS_LIST_FAIL = 'MORE_USERS_LIST_FAIL'\nexport const MORE_USERS_LIST_SUCCESS = 'MORE_USERS_LIST_SUCCESS'\nexport const LOADING_SEARCH_FRIENDS = 'LOADING_SEARCH_FRIENDS'\nexport const SEARCH_FRIENDS_SUCCESS = 'SEARCH_FRIENDS_SUCCESS'\nexport const SEARCH_FRIENDS_FAIL = 'SEARCH_FRIENDS_FAIL'\n\nexport const LOADING_CONVERSATION_LIST = 'LOADING_CONVERSATION_LIST'\nexport const CONVERSATION_LIST_FAIL = 'CONVERSATION_LIST_FAIL'\nexport const CONVERSATION_LIST_SUCCESS = 'CONVERSATION_LIST_SUCCESS'\nexport const LOADING_LOAD_MORE_CONVERSATIONS = 'LOADING_LOAD_MORE_CONVERSATIONS'\nexport const LOAD_MORE_CONVERSATIONS_FAIL = 'LOAD_MORE_CONVERSATIONS_FAIL'\nexport const LOAD_MORE_CONVERSATIONS_SUCCESS = 'LOAD_MORE_CONVERSATIONS_SUCCESS'\n\nexport const LOADING_MESSAGE_LIST = 'LOADING_MESSAGE_LIST'\nexport const MESSAGE_LIST_FAIL = 'MESSAGE_LIST_FAIL'\nexport const MESSAGE_LIST_SUCCESS = 'MESSAGE_LIST_SUCCESS'\nexport const SENDING_MESSAGE = 'SENDING_MESSAGE'\nexport const SEND_MESSAGE_FAIL = 'SEND_MESSAGE_FAIL'\nexport const SEND_MESSAGE_SUCCESS = 'SEND_MESSAGE_SUCCESS'\nexport const SENDING_FILE = 'SENDING_FILE'\nexport const SEND_FILE_FAIL = 'SEND_FILE_FAIL'\nexport const SEND_FILE_SUCCESS = 'SEND_FILE_SUCCESS'\nexport const LOADING_LOAD_MORE_MESSAGES = 'LOADING_LOAD_MORE_MESSAGES'\nexport const LOAD_MORE_MESSAGES_SUCCESS = 'LOAD_MORE_MESSAGES_SUCCESS'\nexport const LOAD_MORE_MESSAGES_FAIL = 'LOAD_MORE_MESSAGES_FAIL'\nexport const SET_ACTIVE_CONVERSATION = 'SET_ACTIVE_CONVERSATION'\nexport const SET_ACTIVE_USERID = 'SET_ACTIVE_USERID'","import { \n  CONNECT_SUCCESS,\n  CONNECT_FAIL,\n  DISCONNECT_SUCCESS,\n  DISCONNECT_FAIL,\n  NEW_MESSAGE_RECEIVED_EVENT,\n  USER_STATUS_UPDATED_EVENT,\n  MARK_AS_READ_EVENT,\n  USER_BLOCKED_EVENT,\n  USER_UNBLOCKED_EVENT,\n  USER_JOINED_EVENT,\n  MEMBERS_ADDED_EVENT,\n  MEMBERS_REMOVED_EVENT,\n  CONVERSATION_UPDATED_EVENT,\n  USER_UPDATED_EVENT\n} from '../constants';\n\nconst _connect = (client, userId, accessToken) => {\n  return new Promise((resolve, reject) => {\n    if (!userId) {\n      reject('UserID is required.');\n      return;\n    }\n    if (!accessToken) {\n      reject('accessToken is required.');\n      return;\n    }\n\n    if (!client) {\n      reject('Channelize.io client was not created.');\n    }\n\n    client.connect(userId, accessToken, (error, res) => {\n      if (error) {\n        reject('Channelize.io connection Failed.');\n      } else {\n        resolve(res);\n      }\n    });\n  });\n};\n\nexport const chConnect = (client, userId, accessToken) => {\n  return dispatch => {\n    return _connect(client, userId, accessToken)\n      .then(response => connectSuccess(dispatch, response))\n      .catch(error => connectFail(dispatch, error));\n  };\n};\n\nconst connectSuccess = (dispatch, response) => {\n  dispatch({\n    type: CONNECT_SUCCESS,\n    payload: response\n  });\n};\n\nconst connectFail = (dispatch, error) => {\n  dispatch({\n    type: CONNECT_FAIL,\n    payload: error\n  });\n};\n\nconst _disconnect = (client) => {\n  return new Promise((resolve, reject) => {\n    if (client) {\n      client.disconnect(() => {\n        resolve(null);\n      });\n    } else {\n      resolve(null);\n    }\n  });\n};\n\nexport const chDisconnect = (client) => {\n  return dispatch => {\n    return _disconnect(client)\n      .then(response => disconnectSuccess(dispatch, response))\n      .catch(error => disconnectFail(dispatch, error));\n  };\n};\n\nconst disconnectSuccess = (dispatch, response) => {\n  dispatch({\n    type: DISCONNECT_SUCCESS,\n    payload: response\n  });\n};\n\nconst disconnectFail = (dispatch, error) => {\n  dispatch({\n    type: DISCONNECT_FAIL,\n    payload: error\n  });\n};\n\nexport const registerEventHandlers = (client) => {\n  return dispatch => {\n    client.chsocket.on('user.status_updated', function (payload) {\n      dispatch({\n        type: USER_STATUS_UPDATED_EVENT,\n        payload: payload\n      });\n    });\n\n    client.chsocket.on('user.updated', function (payload) {\n      dispatch({\n        type: USER_UPDATED_EVENT,\n        payload: payload\n      });\n    });\n\n    client.chsocket.on('user.message_created', function (response) {\n      dispatch({\n        type: NEW_MESSAGE_RECEIVED_EVENT,\n        payload: response\n      });\n    });\n\n   client.chsocket.on('user.joined', function (response) {\n      // Load conversation will all attributes from server\n      const { conversation } = response;\n      client.Conversation.getConversation(conversation.id, null, (err, conversation) => {\n        if (err) {\n          return;\n        }\n\n        response.conversation = conversation;\n\n        dispatch({\n          type: USER_JOINED_EVENT,\n          payload: response\n        });\n      })\n    });\n\n    client.chsocket.on('conversation.members_added', function (response) {\n      dispatch({\n        type: MEMBERS_ADDED_EVENT,\n        payload: response\n      });\n    });\n\n    client.chsocket.on('conversation.members_removed', function (response) {\n      dispatch({\n        type: MEMBERS_REMOVED_EVENT,\n        payload: response\n      });\n    });\n\n    client.chsocket.on('conversation.updated', function (response) {\n      dispatch({\n        type: CONVERSATION_UPDATED_EVENT,\n        payload: response\n      });\n    });\n\n    client.chsocket.on('conversation.mark_as_read', function (response) {\n      dispatch({\n        type: MARK_AS_READ_EVENT,\n        payload: response\n      });\n    });\n\n    client.chsocket.on('user.blocked', function (response) {\n      dispatch({\n        type: USER_BLOCKED_EVENT,\n        payload: response\n      });\n    });\n\n    client.chsocket.on('user.unblocked', function (response) {\n      dispatch({\n        type: USER_UNBLOCKED_EVENT,\n        payload: response\n      });\n    });\n  };\n};","import { \n  LOADING_CONVERSATION_LIST,\n  CONVERSATION_LIST_FAIL,\n  CONVERSATION_LIST_SUCCESS,\n  LOADING_LOAD_MORE_CONVERSATIONS,\n  LOAD_MORE_CONVERSATIONS_FAIL,\n  LOAD_MORE_CONVERSATIONS_SUCCESS,\n} from '../constants';\n\nexport const getConversationList = (conversationListQuery) => {\n  return dispatch => {\n    dispatch({\n      type: LOADING_CONVERSATION_LIST,\n      payload: {}\n    });\n    return conversationListQuery.list((err, response) => {\n      if (err) {\n        dispatch({\n          type: CONVERSATION_LIST_FAIL,\n          payload: err\n        });\n      }\n      dispatch({\n        type: CONVERSATION_LIST_SUCCESS,\n        payload: response\n      }); \n    })\n  };\n};\n\nexport const loadMoreConversations = (conversationListQuery) => {\n  return dispatch => {\n    dispatch({\n      type: LOADING_LOAD_MORE_CONVERSATIONS,\n      payload: {}\n    });\n    return conversationListQuery.list((err, response) => {\n      if (err) {\n        dispatch({\n          type: LOAD_MORE_CONVERSATIONS_FAIL,\n          payload: err\n        });\n      }\n      dispatch({\n        type: LOAD_MORE_CONVERSATIONS_SUCCESS,\n        payload: response\n      });\n    })\n  };\n};\n","import { \n  LOADING_MESSAGE_LIST,\n  MESSAGE_LIST_FAIL,\n  MESSAGE_LIST_SUCCESS,\n  SENDING_MESSAGE,\n  SEND_MESSAGE_FAIL,\n  SEND_MESSAGE_SUCCESS,\n  SENDING_FILE,\n  SEND_FILE_FAIL,\n  SEND_FILE_SUCCESS,\n  LOADING_LOAD_MORE_MESSAGES,\n  LOAD_MORE_MESSAGES_SUCCESS,\n  LOAD_MORE_MESSAGES_FAIL,\n  SET_ACTIVE_CONVERSATION,\n  SET_ACTIVE_USERID\n} from '../constants';\n\nexport const sendFileToConversation = (client, conversation, file, body, attachmentType) => {\n  return dispatch => {\n    dispatch({\n      type: SENDING_FILE,\n      payload: body\n    });\n\n    let createThumbnail = attachmentType === \"application\" ? false : true;\n\n    const fileData = client.File.upload(file, attachmentType, createThumbnail, (err, fileData) => {\n      if (err) {\n        body.error = err;\n        dispatch({\n          type: SEND_FILE_FAIL,\n          payload: body\n        });\n        return;\n      }\n\n      body['attachments'] = [fileData];\n      return conversation.sendMessage(body, (err, response) => {\n        if (err) {\n          body.error = err;\n          dispatch({\n            type: SEND_FILE_FAIL,\n            payload: body\n          });\n          return;\n        }\n        dispatch({\n          type: SEND_FILE_SUCCESS,\n          payload: response\n        });\n        return;\n      });\n    });\n  }\n};\n\nexport const sendMessageToConversation = (conversation, body) => {\n  return dispatch => {\n    dispatch({\n      type: SENDING_MESSAGE,\n      payload: body\n    });\n    return conversation.sendMessage(body, (err, response) => {\n      if (err) {\n        body.error = err;\n        dispatch({\n          type: SEND_MESSAGE_FAIL,\n          payload: body\n        });\n      }\n      dispatch({\n        type: SEND_MESSAGE_SUCCESS,\n        payload: response\n      });\n    })\n  };\n};\n\nexport const sendMessageToUserId = (client, body) => {\n  return dispatch => {\n    dispatch({\n      type: SENDING_MESSAGE,\n      payload: body\n    });\n    return client.Message.sendMessage(body, (err, response) => {\n      if (err) {\n        dispatch({\n          type: SEND_MESSAGE_FAIL,\n          payload: err\n        });\n      }\n      dispatch({\n        type: SEND_MESSAGE_SUCCESS,\n        payload: response\n      });\n    })\n  };\n};\n\nexport const getMessageList = (messageListQuery) => {\n  return dispatch => {\n    dispatch({\n      type: LOADING_MESSAGE_LIST,\n      payload: {}\n    });\n    return messageListQuery.list((err, response) => {\n      if (err) {\n        dispatch({\n          type: MESSAGE_LIST_FAIL,\n          payload: err\n        });\n      }\n      dispatch({\n        type: MESSAGE_LIST_SUCCESS,\n        payload: response.reverse()\n      });\n    })\n  };\n};\n\nexport const loadMoreMessages = (messageListQuery) => {\n  return dispatch => {\n    dispatch({\n      type: LOADING_LOAD_MORE_MESSAGES,\n      payload: {}\n    });\n    return messageListQuery.list((err, response) => {\n      if (err) {\n        dispatch({\n          type: LOAD_MORE_MESSAGES_FAIL,\n          payload: err\n        });\n      }\n      dispatch({\n        type: LOAD_MORE_MESSAGES_SUCCESS,\n        payload: response.reverse()\n      });\n    })\n  };\n};\n\nexport const setActiveConversation = (conversation) => {\n  return dispatch => {\n    dispatch({\n      type: SET_ACTIVE_CONVERSATION,\n      payload: conversation\n    });\n  };\n};\n\nexport const setActiveUserId = (userId) => {\n  return dispatch => {\n    dispatch({\n      type: SET_ACTIVE_USERID,\n      payload: userId\n    });\n  };\n};","import React from 'react';\n\nexport const ChannelizeContext = React.createContext({ client: null });\n\nexport const ChannelizeProvider = ChannelizeContext.Provider;\n\nexport function withChannelizeContext(OriginalComponent) {\n  const ContextAwareComponent = getContextAwareComponent(\n    ChannelizeContext,\n    OriginalComponent,\n  );\n  return ContextAwareComponent;\n}\n\nconst getContextAwareComponent = function(context, originalComponent) {\n  const Context = context;\n  const OriginalComponent = originalComponent;\n  const ContextAwareComponent = function(props) {\n    return (\n      <Context.Consumer>\n        {(c) => <OriginalComponent {...c} {...props} />}\n      </Context.Consumer>\n    );\n  };\n\n  ContextAwareComponent.themePath = OriginalComponent.themePath;\n  ContextAwareComponent.extraThemePaths = OriginalComponent.extraThemePaths;\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n};","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { \n  chConnect,\n  registerEventHandlers\n} from \"../actions\";\nimport { IMAGES } from \"../constants\";\nimport { ChannelizeProvider } from '../context';\n\nclass App extends PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      conversation: null,\n      userId: null\n    }\n  }\n\n  componentDidMount() {\n    const { client, userId, accessToken } = this.props;\n    this.props.chConnect(client, userId, accessToken);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!this.props.connected) {\n      return;\n    }\n\n    // Register real time events after successful connection\n    if (!prevProps.connected && this.props.connected) {\n      this.props.registerEventHandlers(this.props.client)\n    }\n  }\n\n  getContext = () => ({\n    client: this.props.client\n  });\n\n  render() {\n    const { connected } = this.props;\n\n    return (\n      <ChannelizeProvider value={this.getContext()}>\n        { this.props.children }\n      </ChannelizeProvider>\n    );\n  }\n}\n\nconst mapStateToProps = ({client}) => {\n  return {...client}\n}\n\nApp = connect(\n  mapStateToProps,\n  { chConnect, registerEventHandlers }\n)(App);\n\nexport { App };","import React, { PureComponent } from 'react';\n\nclass Header extends PureComponent {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n\t    showDropDownList: false\n\t  };\n  }\n\n  toggleDropDownList = () => {\n  \tthis.setState((state) => ({\n  \t\tshowDropDownList: !state.showDropDownList\n  \t}))\n  }\n\n  render() {\n  \tconst { \n  \t  title,\n  \t  subtitle,\n  \t  profileImageUrl,\n      showArrowBack,\n      onBack,\n  \t  showChevron,\n  \t  renderDropDownList,\n  \t  renderRight\n    } = this.props;\n    const { showDropDownList } = this.state;\n\n    return (\n\t  <div id=\"ch_header\" className=\"ch-header\">\n\t\t\t{ showArrowBack && <i className=\"material-icons arrow-back\" onClick={onBack}>arrow_back</i>}\n      { profileImageUrl && <div className=\"ch-header-image\" style={{backgroundImage:`url(${profileImageUrl})`}}></div>}\n\t\t\t<div className=\"ch-header_details\">\n        <div className=\"ch-header_content\">\n  \t\t\t\t{ title && \n            <div className=\"ch-header-title\">\n              <div>{title}</div>\n              { showChevron && <i className=\"material-icons ch-chevron-icon\" onClick={this.toggleDropDownList}>keyboard_arrow_down</i>}\n            </div>\n          }\n  \t\t\t\t{ subtitle && <div className=\"ch-header-subtitle\">{subtitle}</div>}\n  \t\t\t\t{ showDropDownList && renderDropDownList && renderDropDownList()}\n        </div>\n        <div className=\"ch-header_right-icons\">\n          {renderRight && this.props.renderRight()}\n        </div>\n\t\t\t</div>\n\t  </div>\n   );\n  }\n}\n\nexport { Header }","import React from 'react';\nimport { IMAGES } from \"../constants\";\n\nfunction Launcher(props) {\n  const { onClick } = props;\n\n  return (\n  \t<div id=\"ch_launcher\" className=\"ch-launcher\" onClick={onClick}>\n\t  <img id=\"ch_launcher_image\" className=\"ch-launcher-image\" src={IMAGES.LAUNCHER_ICON} alt=\"\" />\n  \t</div>\n  );\n}\n\nexport { Launcher };","import React from 'react';\n\nfunction Loader(props) {\n\treturn (\n\t\t<div id=\"ch_conv_loader_container\">\n\t\t\t<div id=\"ch_conv_loader\" className=\"ch-loader\"></div>\n\t\t</div>\n\t);\n}\n\nexport { Loader };","import { LANGUAGE_PHRASES } from \"../constants\";\nimport {produce, setAutoFreeze} from \"immer\"\nimport moment from 'moment';\nimport { IMAGES } from \"../constants\";\nsetAutoFreeze(false);\n\nexport function createReducer(initialState, actionsMap) {\n  return (state = initialState, action) => {\n    return produce(state, draft => {\n      const caseReducer = actionsMap[action.type];\n      return caseReducer ? caseReducer(draft, action) : undefined;\n    });\n  };\n}\n\nexport function uniqueList(list) {\n  return list.reduce((uniqList, currentValue) => {\n    let ids = uniqList.map(item => {\n      return item.id;\n    });\n    if (ids.indexOf(currentValue.id) < 0) {\n      uniqList.push(currentValue);\n    }\n    return uniqList;\n  }, []);\n};\n\nexport const modifyConversation = (conversation) => {\n  if (!conversation) {\n    return\n  }\n\n  if (!conversation.isGroup) {\n    if (conversation.user) {\n      conversation.title = conversation.user.displayName;\n      if (conversation.user.profileImageUrl) {\n        conversation.profileImageUrl = conversation.user.profileImageUrl;\n      } else {\n        conversation.profileImageUrl = IMAGES.AVTAR;\n      }\n    } else {\n      conversation.title = \"Deleted User\";\n      conversation.profileImageUrl = IMAGES.AVTAR;\n    }\n  } else {\n    conversation.profileImageUrl = conversation.profileImageUrl ? conversation.profileImageUrl : IMAGES.GROUP;\n  }\n\n  return conversation;\n}\n\nexport const modifyMessageList = (client, conversation, list) => {\n  const user = client.getCurrentUser();\n\n  // Find last message of logged-in user\n  let lastMessage;\n  list.forEach(message => {\n    if (user.id == message.ownerId) {\n      lastMessage = message;\n    }\n  })\n\n  return list.map((message, i) => {\n    // Determine if show read status\n    message.readByAll = null;\n    message.showReadStatus = false;\n    if (lastMessage && lastMessage.id == message.id) {\n      message.showReadStatus = true;\n      message.readByAll = conversation.readByAllMembers(message);\n    }\n\n    // Handle created At\n    if(!('createdAt' in message)) {\n      message.createdAt = Date.now();\n    }\n    message['time'] = AMorPMTimeParser(message.createdAt);\n\n    // Handle message owner\n    if(!message.owner) {\n      message.owner = {\n        id: user.id,\n        displayName: user.displayName,\n        profileImageUrl: user.profileImageUrl\n      };\n    }\n    if (!('profileImageUrl' in message.owner)) {\n      message.owner.profileImageUrl = IMAGES.AVTAR\n    }\n\n    // Determine if message owner is self or other?\n    message['isUser'] = false;\n    if (user.id == message.ownerId) {\n      message.isUser = true;\n    }\n\n    // Replace body of deleted message\n    if(message.isDeleted) {\n      message.body = \"<i>\" + LANGUAGE_PHRASES.MESSAGE_DELETED + '</i>';\n    }\n\n    // Set showOwnerAvatar & showDateSeparator props\n    if (i < list.length) {\n      let nextMessage = list[i + 1];\n\n      message.showOwnerAvatar = false;\n      const isUserLastMessage = (i == list.length -1 && user.id == message.owner.id);\n      message.showOwnerAvatar = !(isSameUser(message, nextMessage, user) || isUserLastMessage)\n\n      let prevMessage = list[i - 1];\n      message.showDateSeparator = !isSameDay(message, prevMessage)\n    }\n\n    return message;\n  });\n};\n\nexport const getLastMessageString = (client, conversation) => {\n  const user = client.getCurrentUser();\n  let message = conversation.lastMessage;\n\n  if (!message) {\n    return \"\";\n  }\n\n  let lastMessageString;\n  if (!Object.keys(message).length) {\n    lastMessageString = '';\n    return lastMessageString;\n  }\n\n  // Handle admin message\n  if (message.type == 'admin') {\n    lastMessageString = 'Admin message';\n\n    return lastMessageString\n  }\n\n  // Handle attachment\n  const attachments = message.attachments;\n  if (attachments && attachments.length) {\n    const attachment = attachments[0];\n\n    if (message.owner.id == user.id) {\n      lastMessageString = `You sent a ${attachment.type}`\n    } else {\n      const displayName = capitalize(message.owner.displayName);\n      lastMessageString = `${displayName} sent a ${attachment.type}`\n    }\n\n    return lastMessageString;\n  }\n\n  // Set messageOwnerName\n  let messageOwnerName;\n  if (message.owner) {\n    if (message.owner.id == user.id) {\n      messageOwnerName = 'You: '\n    } else {\n      if (conversation.isGroup) {\n        const displayName = capitalize(message.owner.displayName);\n        messageOwnerName = `${displayName}: `;\n      }\n    }\n  }\n\n  if (message.isDeleted) {\n    message.body = \"This message was deleted.\"\n  }\n\n  if (!messageOwnerName) {\n    lastMessageString = `${message.body}`\n  } else {\n    lastMessageString = `${messageOwnerName}${message.body}`\n  }\n\n  return lastMessageString;\n}\n\nexport function lastMessageTimeParser(time) {\n  const today = new Date();\n  const todayDate = today.getDate();\n  const todayMonth = today.getMonth() + 1;\n  const todayYear = today.getFullYear();\n\n  const inputDate = new Date(time);\n  const inputTimeDate = inputDate.getDate();\n  const inputTimeMonth = inputDate.getMonth() + 1;\n  const inputTimeYear = inputDate.getFullYear();\n\n  const showWeekDay = inputTimeYear == todayYear && inputTimeMonth == todayMonth && todayDate - inputTimeDate <= 7;\n  const showTime = inputTimeYear == todayYear && inputTimeMonth == todayMonth && inputTimeDate == todayDate;\n  if (showTime) {\n    return AMorPMTimeParser(inputDate);\n  } else if (showWeekDay) {\n    const weeks = [\n     'Sun',\n     'Mon',\n     'Tue',\n     'Wed',\n     'Thu',\n     'Fri',\n     'Sat'\n    ]\n    return weeks[inputDate.getDay()];\n  } else {\n    return inputTimeMonth + '/' + inputTimeDate + '/' + inputTimeYear;\n  }\n}\n\nexport function AMorPMTimeParser(time) {\n  const inputDate = new Date(time);\n  let hours = inputDate.getHours();\n  var AmOrPm = hours >= 12 ? 'PM' : 'AM';\n  hours = (hours % 12) || 12;\n  var minutes = '0' + inputDate.getMinutes() ;\n  return hours + \":\" + minutes.substr(-2) + \" \" + AmOrPm;\n}\n\nexport function dateSeparatorParser(time) {\n  const today = new Date();\n  const todayDate = today.getDate();\n  const todayMonth = today.getMonth() + 1;\n  const todayYear = today.getFullYear();\n\n  const inputDate = new Date(time);\n  const inputTimeDate = inputDate.getDate();\n  const inputTimeMonth = inputDate.getMonth() + 1;\n  const inputTimeYear = inputDate.getFullYear();\n\n  const showToday = inputTimeYear == todayYear && inputTimeMonth == todayMonth && todayDate == inputTimeDate;\n  const showYesterday = inputTimeYear == todayYear && inputTimeMonth == todayMonth && (todayDate - inputTimeDate) == 1;\n  if(showToday) {\n    return 'Today';\n  } else if (showYesterday) {\n    return 'Yesterday';\n  } else {\n    return inputTimeMonth + '/' + inputTimeDate + '/' + inputTimeYear;\n  }\n}\n\nexport function isSameDay(currentMessage, diffMessage) {\n  if (!currentMessage || !currentMessage.createdAt || !diffMessage || !diffMessage.createdAt) {\n    return false;\n  }\n\n  let currentCreatedAt = new Date(currentMessage.createdAt);\n  let diffCreatedAt = new Date(diffMessage.createdAt);\n  return currentCreatedAt.getDate() == diffCreatedAt.getDate();\n}\n\nexport function isSameUser(currentMessage, diffMessage, user) {\n  return !!(diffMessage &&\n    diffMessage.owner &&\n    currentMessage.owner && (\n    user.id === currentMessage.owner.id ||\n    diffMessage.owner.id === currentMessage.owner.id));\n}\n\nexport const capitalize = (s) => {\n  if (!s) return\n  s = s.split(\" \");\n\n  for (var i = 0, x = s.length; i < x; i++) {\n      if (!s[i]) {\n        s[i] = s[i];\n      } else {\n        s[i] = s[i][0].toUpperCase() + s[i].substr(1);\n      }\n  }\n\n  return s.join(\" \");\n}","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { lastMessageTimeParser, getLastMessageString } from \"../utils\";\nimport { LANGUAGE_PHRASES, IMAGES } from \"../constants\";\nimport { withChannelizeContext } from '../context';\nimport { setActiveConversation } from \"../actions\";\n\nclass ConversationItem extends PureComponent {\n\n\tconstructor(props) {\n    super(props);\n\t}\n\n\tselectConversation = () => {\n    const { conversation, onSelect } = this.props;\n    this.props.setActiveConversation(conversation);\n\n    if (onSelect && typeof onSelect == 'function') {\n      onSelect(conversation);\n    }\n\t}\n\n\trender() {\n    const { client, activeConversation, conversation } = this.props;\n    let message = conversation.lastMessage;\n\n\t\t// Handle last message\n\t\tconst lastMessageString = getLastMessageString(client, conversation);\n\n    // Set Last Message time\n    if(!message.createdAt) {\n      message.time = lastMessageTimeParser(Date());\n    } else {\n      message.time = lastMessageTimeParser(message.updatedAt);\n    }\n\n    // Set online icon\n    let onlineIcon;\n    if(conversation.user && conversation.user.isOnline) {\n      onlineIcon = <span className=\"ch-online-icon ch-show-element\"></span>\n    }\n\n    let style = {}\n    if (activeConversation && activeConversation.id == conversation.id) {\n      style = {'backgroundColor': '#fafafa'};\n    }\n\n\t\treturn (\n\t\t\t<li style={style} id={conversation.id} onClick={this.selectConversation}>\n          <div className=\"ch-conversation-image\" style={{backgroundImage:`url(${conversation.profileImageUrl})`}}>\n  \t\t\t\t\t{onlineIcon}\n  \t\t\t\t</div>\n          <div className=\"ch-conversation-content\">\n          <div className=\"ch-conversation-content__upper\">\n            <div id=\"ch_title\">{conversation.title}</div>\n            <div id=\"ch_created_at\" className=\"ch-created-at\">{message.time}</div>\n          </div>\n    \t\t\t<div className=\"ch-conversation-content__lower\">\n            <div id=\"ch_last_msg_box\" className=\"ch-last-msg-box\">\n              <div className=\"ch-last-message\">{lastMessageString}</div>\n            </div>\n          </div>\n          </div>\n          \n\t\t\t</li>\n\t\t);\n\t}\n}\n\nConversationItem = withChannelizeContext(ConversationItem);\n\nconst mapStateToProps = ({conversation}) => {\n  return {...conversation};\n}\n\nConversationItem = connect(\n  mapStateToProps,\n  { setActiveConversation },\n)(ConversationItem);\n\nexport { ConversationItem }","import React, { PureComponent } from 'react';\nimport { Header } from \"./Header\";\nimport { ConversationItem} from \"./ConversationItem\";\nimport { Loader } from \"./Loader\";\nimport { LANGUAGE_PHRASES, IMAGES } from \"../constants\";\nimport { connect } from 'react-redux';\nimport { withChannelizeContext } from '../context';\nimport { \n  getConversationList,\n  loadMoreConversations,\n  setActiveConversation\n} from \"../actions\";\nimport { modifyConversation } from \"../utils\";\n\nclass ConversationList extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.limit = 25;\n    this.skip = 0;\n\n    this.onScroll = this.onScroll.bind(this);\n    this.chRecentListingRef = React.createRef();\n  }\n\n  componentDidMount() {\n    const { connected } = this.props;\n    if (!connected) {\n      return\n    }\n\n    this._init();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { client, connected, activeConversation, list } = this.props;\n    if (!connected) {\n      return\n    }\n\n    // Find if need to refresh conversation\n    const refresh = !prevProps.connected && this.props.connected;\n    if (refresh) {\n      this._init();\n    }\n\n    // Set a conversation active\n    if (!activeConversation && list.length) {\n      this.props.setActiveConversation(list[0]);\n    }\n  }\n\n  _init = () => {\n    const { client, list } = this.props;\n\n    if (list.length) {\n      return;\n    }\n\n    // Load conversations\n    let conversationListQuery = client.Conversation.createConversationListQuery();\n    conversationListQuery.limit = this.limit;\n    conversationListQuery.skip = this.skip;\n    this.props.getConversationList(conversationListQuery);\n  }\n\n  onCloseIconClick = () => {\n    const { onCloseIconClick } = this.props;\n    if (onCloseIconClick && typeof onCloseIconClick == 'function') {\n      onCloseIconClick();\n    }\n  }\n\n  onSearchIconClick = () => {\n    const { onSearchIconClick } = this.props;\n    if (onSearchIconClick && typeof onSearchIconClick == 'function') {\n      onSearchIconClick();\n    }\n  }\n\n  onScroll() {\n    const { list, client, loadingMoreConversations, allConversationsLoaded } = this.props;\n    const chRecentListingRef = this.chRecentListingRef.current;\n\n    if (loadingMoreConversations || allConversationsLoaded || list.length < this.limit) {\n      return\n    }\n\n    if(chRecentListingRef.scrollTop + chRecentListingRef.clientHeight == chRecentListingRef.scrollHeight) {\n      // Set skip\n      this.skip = list.length;\n\n      let conversationListQuery = client.Conversation.createConversationListQuery();\n      conversationListQuery.limit = this.limit;\n      conversationListQuery.skip = this.skip;\n      this.props.loadMoreConversations(conversationListQuery)\n    }\n  }\n\n  render() {\n    let { \n      client,\n      list,\n      connecting,\n      connected,\n      loading,\n      error,\n      loadingMoreConversations,\n      showSearchIcon,\n      onSearchIconClick,\n      showCloseIcon,\n      activeConversation,\n      onSelect\n    } = this.props;\n\n    const user = client.getCurrentUser();\n    let headerImage;\n    if(user && user.profileImageUrl) {\n      headerImage = user.profileImageUrl;\n    } else {\n      headerImage = IMAGES.AVTAR;\n    }\n\n    list = list.map(conversation => modifyConversation(conversation));\n\n    return (\n      <div id=\"ch_recent_window\" className=\"ch-recent-window\">\n        <Header \n          profileImageUrl={headerImage}\n          title={LANGUAGE_PHRASES.CHAT}\n          renderRight={() => {\n            return (\n              <div>\n                { showSearchIcon && <i title=\"Search\" className=\"material-icons\" onClick={this.onSearchIconClick}>search</i>}\n                { showCloseIcon && <i title=\"Close\" className=\"material-icons\" onClick={this.onCloseIconClick}>close</i>}\n              </div>\n            )\n          }}/>\n\n        <div id=\"ch_recent_listing\" className=\"ch-recent-listing\"  ref={this.chRecentListingRef} onScroll={this.onScroll}>\n          { (connecting || loading) &&  <div className=\"center\"><Loader /></div>}\n\n          { error && <div className=\"center error\">{error}</div>}\n\n          { connected && !list.length && !loading && <div className=\"center no-record-found\">No record Found</div>}\n\n          <ul id=\"ch_recent_ul\" className=\"ch-recent-ul\">\n            {\n              list.map((conversation) => {\n                return <ConversationItem \n                  key={conversation.id} \n                  activeConversation={activeConversation} \n                  conversation={conversation}\n                  onSelect={onSelect} />\n              })\n            }\n          </ul>\n\n          { loadingMoreConversations &&  <div> Loading... </div>}\n        </div>\n      </div>\n    );\n  }\n}\n\nConversationList = withChannelizeContext(ConversationList);\n\nconst mapStateToProps = ({conversation, client, message}) => {\n  return {...conversation, ...client, activeConversation: message.conversation};\n}\n\nConversationList = connect(\n  mapStateToProps,\n  { \n    getConversationList,\n    loadMoreConversations,\n    setActiveConversation\n },\n)(ConversationList);\n\nexport { ConversationList }\n","import React, { Component } from 'react';\nimport { withChannelizeContext } from '../context';\nimport { dateSeparatorParser } from '../utils'\n\nclass MessagePreview extends Component {\n\tconstructor(props) {\n  \tsuper(props);\n\t}\n\n\tshowImage(url) {\n\t\tvar link = document.createElement(\"a\");\n\t  link.href = url;\n\t  link.target = \"_blank\";\n\t  document.body.appendChild(link);\n\t  link.click();\n\t  document.body.removeChild(link);\n\n\t}\n\n\tdownloadFile(url, name) {\n\t  var link = document.createElement(\"a\");\n\t  link.href = url;\n\t  link.target = \"_blank\";\n\t  link.download = name;\n\t  document.body.appendChild(link);\n\t  link.click();\n\t  document.body.removeChild(link);\n\t}\n\n\trender() {\n\t\tconst { client, message } = this.props;\n\t\tconst user = client.getCurrentUser();\n\n\t\t// Set class for user/owner message\n\t\tlet msgContainerPos = message.isUser ? \"right\" : \"left\";  \n\n\t\tlet fileMessage = message.attachments.map(attachment => {\n\t\t  switch(attachment.type) {\n\t\t\tcase \"image\":\n\t\t\t  return <img className=\"ch-image-message\" src={attachment.thumbnailUrl ? attachment.thumbnailUrl : attachment.fileUr} onClick={()=>this.showImage(attachment.fileUrl)}/>\n\t\t\t  break;\n\t\t\tcase \"video\":\n\t\t\t  return (\n\t\t\t\t<div className=\"ch-video-container\">\n\t\t\t\t  <img className=\"ch-image-message\" src={attachment.thumbnailUrl} onClick={()=>this.showImage(attachment.fileUrl)}/>\n\t\t\t\t  <i className=\"material-icons ch-video-play-icon\">play_circle_outline</i>\n\t\t\t\t</div>\n\t\t\t  );\n\t\t\t  break;\n\t\t  \tcase \"application\":\n\t\t\t  return (\n\t\t\t\t<div className=\"ch-text-message\">\n\t\t\t\t  <div className=\"ch-message-body\">\n\t\t\t\t  \t<div className=\"ch-docs-data\">\n\t\t\t\t\t  <i className=\"material-icons ch-attachment-icon\">description</i>\n\t\t\t\t\t  <span className=\"ch-docs-name\">{attachment.name}</span>\n\t\t\t\t\t  <i className=\"material-icons ch-docs-download-icon\" onClick={() =>this.downloadFile(attachment.fileUrl, attachment.name)}>arrow_downward</i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ch-docs-details\">\n\t\t\t\t\t  <hr></hr>\n\t\t\t\t\t  <span>{attachment.extension}</span>\n\t\t\t\t\t</div>\n\t\t\t\t  </div>\n\t\t\t\t</div>\n\t\t\t  )\n\t\t\t  break;\n\t\t\tdefault:\n\t\t\t  return null;\n\t\t\t  break;\n\t\t  }\n\t\t});\n\n\t\tconst ownerProfileImageUrl = message.owner.profileImageUrl; \n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{ message.showDateSeparator && \n\t\t\t\t\t<div key={`${message.id}-date`} className=\"ch-msg-padding\">\n\t\t\t\t\t\t<div className=\"ch-message-date-separator\">\n\t\t\t\t\t\t\t<div className=\"message-date-separator_left\"></div>\n\t\t\t\t\t\t\t<div className=\"message-date-separator_text\">{dateSeparatorParser(message.createdAt)}</div>\n\t\t\t\t\t\t\t<div className=\"message-date-separator_right\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\n\t\t\t\t<div key={message.id} className={`ch-msg-padding ${msgContainerPos}`}>\n\t\t\t\t\t<div className={`ch-msg-container`}>\n\t\t\t\t\t\t{ message.showOwnerAvatar && \n\t\t\t\t\t\t\t<div title={message.owner.displayName} className=\"ch-message-owner-avatar\" style={{backgroundImage:`url(${ownerProfileImageUrl})`}}></div>\n\t\t\t\t\t \t}\n\t\t\t\t\t\t<div className={`ch-msg-content ${msgContainerPos == 'left' && !message.showOwnerAvatar ? 'padding-left': ''}`}>\n\t\t\t\t\t\t\t\t{ message.body && <div className={`ch-text-message`}>{message.body}</div> }\n\n\t\t\t\t\t\t\t\t{fileMessage}\n\n\t\t\t\t\t\t\t\t<div className={`message-info`}>\n\t\t\t\t\t\t\t\t\t<span id=\"ch_msg_time\" className=\"ch-msg-time\">{message.time}</span>\n\t\t\t\t\t\t\t\t\t{ message.showReadStatus && message.readByAll &&\n\t\t\t\t\t\t\t\t\t\t<i id=\"ch_msg_status\" className=\"material-icons ch-msg-status ch-msg-read-status\">done_all</i>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{ message.showReadStatus && !message.readByAll &&\n\t\t\t\t\t\t\t\t\t\t<i id=\"ch_msg_status\" className=\"material-icons ch-msg-status\">done_all</i>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nMessagePreview = withChannelizeContext(MessagePreview);\n\nexport { MessagePreview };","import React, { PureComponent } from 'react';\nimport { Header } from \"./Header\";\nimport { Loader } from \"./Loader\";\nimport { MessagePreview } from \"./MessagePreview\";\nimport { modifyConversation, modifyMessageList } from \"../utils\";\nimport { connect } from 'react-redux';\nimport { LANGUAGE_PHRASES, IMAGES } from \"../constants\";\nimport { withChannelizeContext } from '../context';\nimport { \n  getMessageList,\n  sendMessageToConversation,\n  sendMessageToUserId,\n  sendFileToConversation,\n  loadMoreMessages as loadMoreMessagesAction,\n  setActiveConversation\n} from '../actions';\nimport moment from 'moment';\nimport throttle from 'lodash/throttle';\n\nclass ConversationWindow extends PureComponent {\n\n\tconstructor(props) {\n    super(props);\n    this.limit = 25;\n    this.skip = 0;\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleKeyUp = this.handleKeyUp.bind(this);\n    this.sendMessage = this.sendMessage.bind(this);\n    this.onScroll = this.onScroll.bind(this);\n    this._markAsRead = throttle(this._markAsRead, 500);\n    this.sendMedia = this.sendMedia.bind(this);\n\n    this.chMessageBoxRef = React.createRef();\n\n    this.state = {\n      text: '',\n      dummyConversation: null,\n      userId: null\n    }\n  }\n\n  componentDidMount() {\n    const { connected } = this.props;\n    if (!connected) {\n      return\n    }\n\n    this._init();\n  }\n\n  getSnapshotBeforeUpdate(prevProps) {\n    if (prevProps.list.length < this.props.list.length) {\n      if (!this.chMessageBoxRef) {\n        return null;\n      }\n\n      const chMessageBoxRef = this.chMessageBoxRef.current;\n      return {\n        scrollHeight: chMessageBoxRef.scrollHeight,\n        offsetTop: chMessageBoxRef.scrollTop,\n        offsetBottom: chMessageBoxRef.scrollHeight - chMessageBoxRef.scrollTop,\n      }\n    }\n\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const { \n      client,\n      conversation,\n      newMessage,\n      userId,\n      loadingMoreMessages } = this.props;\n\n    // Find if need to refresh conversation\n    const refresh = !prevProps.connected && this.props.connected;\n    if (refresh) {\n      this._init();\n    }\n\n    // if userId switches, re-intialize the conversation\n    if (prevProps.userId != userId && userId) {\n      this._init();\n    }\n\n    // Set the conversation after sending first mesage in dummy conversation\n    if (!conversation && prevProps.sendingMessage && !this.props.sendingMessage) {\n      this._scrollToTarget()\n\n      let conversationListQuery = client.Conversation.createConversationListQuery();\n      if (userId) {\n        conversationListQuery.membersExactly = userId;\n        conversationListQuery.isGroup = false;\n      }\n\n      conversationListQuery.list((err, conversations) => {\n        if (conversations.length) {\n          this.props.setActiveConversation(conversations[0])\n          return\n        }\n\n        client.User.get(userId, (err, user) => {\n          this.setState({\n            dummyConversation: {isGroup: false, user}\n          })\n        })\n      })\n    }\n\n    if (!conversation) {\n      return\n    }\n\n    if ((!prevProps.conversation && conversation) || (prevProps.conversation.id != conversation.id)) {\n      this._init();\n    }\n\n    // Scroll to bottom on initial message loading\n    if (prevProps.loading && !this.props.loading) {\n      this._scrollToTarget()\n    }\n\n    // Scroll to Bottom on new message received\n    if((!prevProps.newMessage && newMessage) || (newMessage && prevProps.newMessage.id != newMessage.id) ) {\n      this._scrollToTarget()\n\n      const user = client.getCurrentUser();\n      if (user.id != newMessage.ownerId) {\n        this._markAsRead(conversation)\n      }\n    }\n\n    // Scroll to target after load more mesages\n    if(prevProps.list.length < this.props.list.length) {\n      if (snapshot) {\n        const chMessageBoxRef = this.chMessageBoxRef.current;\n        const target = chMessageBoxRef.scrollHeight - snapshot.offsetBottom;\n        this._scrollToTarget(target);\n      }\n    }\n  }\n\n  _markAsRead = (conversation) => {\n    if (conversation && conversation.config.typing_events) {\n      conversation.markAsRead();\n    }\n  }\n\n  _scrollToTarget = (target) => {\n    if (!this.chMessageBoxRef) {\n      return\n    }\n\n    const chMessageBoxRef = this.chMessageBoxRef.current;\n    if (Object.prototype.toString.call(target) === \"[object Number]\") {\n      chMessageBoxRef.scrollTop = target;\n      return\n    }\n\n    chMessageBoxRef.scrollTop = chMessageBoxRef.scrollHeight;\n  }\n\n  _init = () => {\n    const { client, conversation, userId } = this.props;\n    if (!conversation && !userId) {\n      return\n    }\n\n    // If conversation not exist, get the conversation from userId\n    if (!conversation) {\n      this.setState({\n        dummyConversation: null\n      })\n\n      let conversationListQuery = client.Conversation.createConversationListQuery();\n      if (userId) {\n        conversationListQuery.membersExactly = userId;\n        conversationListQuery.isGroup = false;\n      }\n\n      conversationListQuery.list((err, conversations) => {\n        if (conversations.length) {\n          this.props.setActiveConversation(conversations[0])\n          return\n        }\n\n        client.User.get(userId, (err, user) => {\n          this.setState({\n            dummyConversation: {isGroup: false, user}\n          })\n        })\n      })\n    }\n\n    if (!conversation) {\n      return\n    }\n\n    // Load messages\n    let messageListQuery = conversation.createMessageListQuery();\n    messageListQuery.limit = this.limit;\n    this.skip = 0;\n    messageListQuery.skip = this.skip;\n    this.props.getMessageList(messageListQuery);\n\n    // Mark as read conversation\n    if (conversation.unreadMessageCount > 0) {\n      conversation.markAsRead();\n    }\n  }\n\n  handleChange(event) {\n    this.setState({text: event.target.value});\n  }\n\n  handleKeyUp(event) {\n    if(event.keyCode === 13) {\n      event.preventDefault();\n      this.sendMessage();\n    }\n  }\n\n  sendFile(file) {\n    const { client, conversation } = this.props;\n\n    let fileType = file.type.split('/').shift();\n\n    const body = {}\n    this.props.sendFileToConversation(client, conversation, file, body, fileType);\n  }\n  \n  sendMessage() {\n    const { conversation, client, userId } = this.props;\n    const { text } = this.state;\n    let body = {\n      body: text\n    }\n    this.setState({text: ''})\n\n    if (conversation) {\n      this.props.sendMessageToConversation(conversation, body)\n    } else {\n      body.userId = userId;\n      this.props.sendMessageToUserId(client, body)\n    }\n  }\n\n  onCloseIconClick = () => {\n    this.props.setActiveConversation(null)\n\n    const { onCloseIconClick } = this.props;\n    if (onCloseIconClick && typeof onCloseIconClick == 'function') {\n      onCloseIconClick();\n    }\n  }\n\n  onScroll() {\n    const { list, conversation, loadingMoreMessages, allMessagesLoaded } = this.props;\n    if (!conversation) {\n      return null\n    }\n\n    const chMessageBoxRef = this.chMessageBoxRef.current;\n    if (loadingMoreMessages || allMessagesLoaded || list.length < this.limit) {\n      return\n    }\n\n    if(chMessageBoxRef.scrollTop < chMessageBoxRef.clientHeight) {\n      // Set skip\n      this.skip = list.length;\n\n      let messageListQuery = conversation.createMessageListQuery();\n      messageListQuery.limit = this.limit;\n      messageListQuery.skip = this.skip;\n      this.props.loadMoreMessagesAction(messageListQuery)\n    }\n  }\n\n  blockUser() {\n\n  }\n\n  unblockUser() {\n\n  }\n\n  sendMedia(event) {\n    this.sendFile(event.target.files[0]);\n  }\n\n  render() {\n    let { \n      client,\n      connecting,\n      connected,\n      error,\n      loading,\n      loadingMoreMessages,\n      list,\n      conversation,\n      showCloseIcon,\n      showChevron,\n      disableComposer,\n      disableComposerMessage\n    } = this.props;\n    const { text, dummyConversation } = this.state;\n\n    // Set dummy conversation if conversation doesn't exist\n    if (!conversation) {\n      conversation = dummyConversation\n      list = [];\n    }\n\n    // Modify message list\n    list = modifyMessageList(client, conversation, list);\n\n    // disable composer setting\n    let composerDisabled = false;\n    if (disableComposer && typeof disableComposer == 'function') {\n      composerDisabled = disableComposer(conversation)\n    }\n\n    // Set header details\n    let actionButton;\n    let headerTitle;\n    let headerImage;\n    let headerSubtitle;\n    if (conversation) {\n      conversation = modifyConversation(conversation)\n      headerTitle = conversation.title;\n      headerImage = conversation.profileImageUrl;\n\n      if (!conversation.isGroup && conversation.user) {\n        headerSubtitle = conversation.user.isOnline ? 'Online' : 'Last Seen ' + moment(conversation.user.lastSeen).fromNow();\n      }\n\n      if (conversation.isGroup) {\n        headerSubtitle = conversation.memberCount + ' Members';\n      }\n\n      // Action buttons\n      if(!conversation.isActive) {\n        actionButton = <div id=\"ch_conv_unblock\" onClick={() => this.unblockUser()}>Unblock User</div>\n      } else {\n        actionButton = <div id=\"ch_conv_block\" onClick={() => this.blockUser()}>Block User</div>\n      }\n    }\n\n    const user = client.getCurrentUser();\n\n\t\treturn (\n  \t\t<div id=\"ch_conv_window\" className=\"ch-conv-window\">\n  \t\t\t{ conversation && <Header \n          profileImageUrl={headerImage}\n          title={headerTitle}\n          subtitle={headerSubtitle}\n          showChevron={(showChevron && actionButton) ? true : false}\n          renderDropDownList={() => {\n            if (!actionButton) {\n              return\n            }\n\n            return (\n              <div className=\"ch-drop-down-list\">\n                {actionButton}\n              </div>\n            )\n          }}\n          renderRight={() => {\n            return (\n              <React.Fragment>\n                { showCloseIcon && <i title=\"Close\" className=\"material-icons\" onClick={this.onCloseIconClick}>close</i>}\n              </React.Fragment>\n            )\n          }}/>\n        }\n\n        <div id=\"ch_messages_box\" ref={this.chMessageBoxRef} className=\"ch-messages-box\" onScroll={this.onScroll}>\n          { <div className=\"ch-conversation-padding\"> </div>}\n         \n          { (connecting || loading) &&  <div className=\"center\"><Loader /></div>}\n\n          { error && <div className=\"center error\">{error}</div>}\n\n          <div className=\"ch-msg-list\">\n            { connected && !conversation && <div className=\"center no-record-found\">No conversation seleted</div>}\n\n            { loadingMoreMessages &&  <Loader />}\n\n            { conversation && !list.length && !loading && <div className=\"center no-record-found\">No record Found</div>}\n\n    \t\t\t\t{\n    \t\t\t\t\tlist.map(message => {\n                return <MessagePreview key={message.id} message={message}/>\n              })\n    \t\t\t\t}\n          </div>\n        </div>\n\n        { conversation &&\n          <React.Fragment>\n            { composerDisabled ?\n              <div className=\"ch-composer-disabled-box\">\n                <div>{disableComposerMessage}</div>\n              </div>\n              :\n        \t\t\t<div id=\"ch_send_box\" className=\"ch-send-box\">\n\n                <div className=\"ch-media-icon-box\">\n                  <i title=\"Image\" className=\"material-icons ch-attachment-icon\">insert_photo</i>\n                  <input id=\"ch_gallary_input\" className=\"ch-gallary-input\" type=\"file\" accept=\"image/*\" onChange={this.sendMedia} />\n                </div>\n\n                <div className=\"ch-media-icon-box\">\n                  <i title=\"Document\" className=\"material-icons ch-attachment-icon\">description</i>\n                  <input id=\"ch_document_input\" className=\"ch-document-input\" type=\"file\" accept=\"application/*,.doc,.docx,.xls,.ppt\" onChange={this.sendMedia} />\n                </div>\n\n        \t\t\t\t<textarea \n                  id=\"ch_input_box\"\n                  className=\"ch-input-box\"\n                  type=\"text\"\n                  placeholder=\"Send a message\"\n                  value={text}\n                  onChange={this.handleChange} \n                  onKeyUp={this.handleKeyUp}></textarea>\n\n      \t\t\t\t\t<button id=\"ch_send_button\" className=\"ch-send-button\" onClick={this.sendMessage}><i className=\"ch-send-icon material-icons\">send</i></button>\n        \t\t\t</div>\n            }\n          </React.Fragment>\n        }\n  \t\t</div>\n\t\t);\n  }\n}\n\nConversationWindow = withChannelizeContext(ConversationWindow);\n\nconst mapStateToProps = ({message, client}) => {\n  return {...message, ...client}\n}\n\nConversationWindow = connect(\n  mapStateToProps,\n   {\n    getMessageList,\n    sendMessageToConversation,\n    sendMessageToUserId,\n    sendFileToConversation,\n    loadMoreMessagesAction,\n    setActiveConversation }\n)(ConversationWindow);\n\nexport { ConversationWindow }","import React, { PureComponent } from 'react';\nimport { Header } from \"./Header\";\nimport { Loader } from \"./Loader\";\nimport { connect } from 'react-redux';\nimport { LANGUAGE_PHRASES, IMAGES } from \"../constants\";\nimport { withChannelizeContext } from '../context';\nimport { \n  getFriendsList,\n  loadMoreFriends,\n  getMoreUsersList,\n  searchFriends as searchFriendsAction,\n  setActiveUserId,\n} from '../actions';\nimport debounce from 'lodash/debounce';\n\nclass SearchWindow extends PureComponent {\n\n\tconstructor(props) {\n    super(props);\n    this.searchLimit = 10;\n    this.friendsLimit = 50;\n\n    this.state = {\n      searchText: ''\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this._searchOnServer = debounce(this._searchOnServer, 800)\n  }\n\n  componentDidMount() {\n    const { connected } = this.props;\n    if (!connected) {\n      return\n    }\n\n    this._init();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { client, connected } = this.props;\n    if (!connected) {\n      return\n    }\n\n    if (!prevProps.connected && connected) {\n      this._init();\n    }\n  }\n\n  _init = () => {\n    const { client } = this.props;\n\n    // Load friends\n    let friendsListQuery = client.User.createUserListQuery();\n    friendsListQuery.limit = this.friendsLimit;\n    friendsListQuery.skip = 0;\n    friendsListQuery.sort = 'isOnline DESC, displayName ASC ';\n    this.props.getFriendsList(friendsListQuery);\n  }\n\n  handleChange(event) {\n    let inputValue = event.target.value;\n    this.setState({searchText: inputValue})\n\n    if (!inputValue) {\n      return\n    }\n    this._searchOnServer(inputValue);\n  }\n\n  _searchOnServer = (value) => {\n    const { client } = this.props;\n\n    // search friends\n    let friendsListQuery = client.User.createUserListQuery();\n    friendsListQuery.limit = this.searchLimit;\n    friendsListQuery.skip = 0;\n    friendsListQuery.search = value;\n    friendsListQuery.sort = 'isOnline DESC, displayName ASC';\n    this.props.searchFriendsAction(friendsListQuery);\n\n    // Load more users\n    let moreUsersListQuery = client.User.createUserListQuery();\n    moreUsersListQuery.limit = this.searchLimit;\n    moreUsersListQuery.skip = 0;\n    moreUsersListQuery.search = value;\n    moreUsersListQuery.sort = 'isOnline DESC, displayName ASC';\n    this.props.getMoreUsersList(moreUsersListQuery);\n  }\n\n  clearSearch = () => {\n    this.setState({searchText: ''})\n  }\n\n  onContactClick = (userId) => {\n    const { onContactClick } = this.props;\n    this.props.setActiveUserId(userId)\n\n    if (onContactClick && typeof onContactClick == 'function') {\n      onContactClick(userId)\n    }\n  }\n\n  render() {\n    let {\n      connecting, \n      connected,\n      loadingFriendsList,\n      loadingSearchFriends,\n      friendslist,\n      moreUsersList,\n      searchFriends,\n      showArrowBack,\n      onBack\n    } = this.props;\n    const { searchText } = this.state;\n\n    let list = friendslist;\n    if (searchText) {\n      list = searchFriends;\n    } else {\n      moreUsersList = [];\n    }\n\n    const showMoreUsers = moreUsersList.length ? true : false;\n\n  \treturn (\n      <div id=\"ch_search_window\" className=\"ch-search-window\">\n        <Header\n          showArrowBack={showArrowBack}\n          onBack={onBack}\n          title={LANGUAGE_PHRASES.SEARCH} \n        />\n\n        <div id=\"ch_search_box\" className=\"ch-search-box\">\n          <input placeholder=\"Search\" id=\"ch_search_input_box\" className=\"ch-search-input-box\" value={searchText} onChange={this.handleChange} />\n          { searchText && <i id=\"ch_clear_search_icon\" className=\"material-icons ch-clear-search-icon\" onClick={this.clearSearch}>close</i>}\n        </div>\n\n        <div id=\"ch_friends_box\" className=\"ch-friends-box\">\n          { (connecting || loadingFriendsList) && <div className=\"center\"><Loader /></div>}\n\n          { loadingSearchFriends && <div><Loader /></div>}\n\n          { connected && searchText && !list.length && !showMoreUsers && !loadingFriendsList && !loadingSearchFriends && <div className=\"center no-record-found\">No Record Found</div>}\n\n          <div id=\"ch_suggested_box\">\n            { !searchText && !loadingFriendsList && <div id=\"ch_suggested\" className=\"ch-suggested\">{LANGUAGE_PHRASES.SUGGESTED}</div>}\n\n            {list.map(friend => {\n              const imgUrl = friend.profileImageUrl ? friend.profileImageUrl : IMAGES.AVTAR;\n              return (\n                <li key={friend.id} id={friend.id} className=\"ch-friends-list\" onClick={() => this.onContactClick(friend.id)}>\n                  <div className=\"ch-contact-img\" style={{backgroundImage:`url(${imgUrl})`}}>\n                    { friend.isOnline && <span className=\"ch-online-icon ch-show-element\"></span> }\n                  </div>\n                  <div id=\"ch_friend_name\" className=\"ch-friend-name\">{friend.displayName}</div>\n                </li>\n              )})\n            }\n          </div>\n\n          { showMoreUsers &&\n            <div id=\"ch_users_box\">\n              <div id=\"ch_more_users\" className=\"ch-more-users\">{LANGUAGE_PHRASES.MORE_USERS}</div>\n              { moreUsersList.map((user) => {\n                const imgUrl = user.profileImageUrl ? user.profileImageUrl : IMAGES.AVTAR;\n                return (\n                  <li key={user.id} id={user.id} className=\"ch-friends-list\" onClick={() => this.onContactClick(user.id)}>\n                    <div className=\"ch-contact-img\" style={{backgroundImage:`url(${imgUrl})`}}>\n                      { user.isOnline && <span className=\"ch-online-icon ch-show-element\"></span> }\n                    </div>\n                    <div id=\"ch_friend_name\" className=\"ch-friend-name\">{user.displayName}</div>\n                  </li>\n                )})\n              }\n            </div>\n          }\n        </div>\n      </div>\n\t\t);\n  }\n}\n\nSearchWindow = withChannelizeContext(SearchWindow);\n\nconst mapStateToProps = ({user, client}) => {\n  return {...user, ...client}\n}\n\nSearchWindow = connect(\n  mapStateToProps,\n  { \n  getFriendsList,\n  loadMoreFriends ,\n  getMoreUsersList,\n  searchFriendsAction,\n  setActiveUserId }\n)(SearchWindow)\n\nexport { SearchWindow };","import { \n  LOADING_FRIENDS_LIST,\n  FRIENDS_LIST_FAIL,\n  FRIENDS_LIST_SUCCESS,\n  LOADING_LOAD_MORE_FRIENDS,\n  LOAD_MORE_FRIENDS_SUCCESS,\n  LOAD_MORE_FRIENDS_FAIL,\n  LOADING_MORE_USERS_LIST,\n  MORE_USERS_LIST_FAIL,\n  MORE_USERS_LIST_SUCCESS,\n  LOADING_SEARCH_FRIENDS,\n  SEARCH_FRIENDS_SUCCESS,\n  SEARCH_FRIENDS_FAIL\n} from '../constants';\n\nexport const getFriendsList = (userListQuery) => {\n  return dispatch => {\n    dispatch({\n      type: LOADING_FRIENDS_LIST,\n      payload: {}\n    });\n    return userListQuery.friendsList((err, response) => {\n      if (err) {\n        dispatch({\n          type: FRIENDS_LIST_FAIL,\n          payload: err\n        });\n      }\n      dispatch({\n        type: FRIENDS_LIST_SUCCESS,\n        payload: response\n      });\n    })\n  };\n};\n\nexport const loadMoreFriends = (userListQuery) => {\n  return dispatch => {\n    dispatch({\n      type: LOADING_LOAD_MORE_FRIENDS,\n      payload: {}\n    });\n    return userListQuery.friendsList((err, response) => {\n      if (err) {\n        dispatch({\n          type: LOAD_MORE_FRIENDS_FAIL,\n          payload: err\n        });\n      }\n      dispatch({\n        type: LOAD_MORE_FRIENDS_SUCCESS,\n        payload: response\n      });\n    })\n  };\n};\n\nexport const getMoreUsersList = (userListQuery) => {\n  return dispatch => {\n    dispatch({\n      type: LOADING_MORE_USERS_LIST,\n      payload: {}\n    });\n    return userListQuery.usersList((err, response) => {\n      if (err) {\n        dispatch({\n          type: MORE_USERS_LIST_FAIL,\n          payload: err\n        });\n      }\n      dispatch({\n        type: MORE_USERS_LIST_SUCCESS,\n        payload: response\n      });\n    })\n  };\n};\n\nexport const searchFriends = (userListQuery) => {\n  return dispatch => {\n    dispatch({\n      type: LOADING_SEARCH_FRIENDS,\n      payload: {}\n    });\n    return userListQuery.friendsList((err, response) => {\n      if (err) {\n        dispatch({\n          type: SEARCH_FRIENDS_FAIL,\n          payload: err\n        });\n      }\n      dispatch({\n        type: SEARCH_FRIENDS_SUCCESS,\n        payload: response\n      });\n    })\n  };\n};","import { \n  CONNECT_SUCCESS,\n  CONNECT_FAIL,\n  DISCONNECT_SUCCESS,\n  DISCONNECT_FAIL\n} from '../constants';\n\nconst INITIAL_STATE = {\n  connected: false,\n  error: null\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CONNECT_SUCCESS:\n\t  return { ...state, connected: true };\n\tcase CONNECT_FAIL:\n\t  return { ...state, connected: false, error: action.payload };\n\tcase DISCONNECT_SUCCESS:\n\t  return { ...state, connected: false };\n\tcase DISCONNECT_FAIL:\n\t  return { ...state, connected: true, error: action.payload };\n  \tdefault:\n      return state;\n  }\n};\n","import {\n  LOADING_CONVERSATION_LIST,\n  CONVERSATION_LIST_FAIL,\n  CONVERSATION_LIST_SUCCESS,\n  LOADING_LOAD_MORE_CONVERSATIONS,\n  LOAD_MORE_CONVERSATIONS_FAIL,\n  LOAD_MORE_CONVERSATIONS_SUCCESS,\n  USER_STATUS_UPDATED_EVENT,\n  NEW_MESSAGE_RECEIVED_EVENT,\n  USER_JOINED_EVENT,\n  MEMBERS_ADDED_EVENT,\n  MEMBERS_REMOVED_EVENT,\n  CONVERSATION_UPDATED_EVENT,\n  USER_UPDATED_EVENT,\n  MARK_AS_READ_EVENT\n} from '../constants';\nimport { createReducer, uniqueList } from '../utils';\n\nconst INITIAL_STATE = {\n  list: [],\n  loading: false,\n  loadingMoreConversations: false,\n  allConversationsLoaded: false,\n  error: null\n};\n\nexport const loadingConversationList = (state, action) => {\n  state.loading = true;\n};\n\nexport const listConversationSuccess = (state, action) => {\n  state.loading = false;\n  state.list = action.payload;\n};\n\nexport const listConversationFail = (state, action) => {\n  state.loading = false;\n  state.error = action.payload;\n};\n\nexport const loadingLoadMoreConversations = (state, action) => {\n  state.loadingMoreConversations = true;\n};\n\nexport const loadMoreConversationsSuccess = (state, action) => {\n  state.loadingMoreConversations = false;\n  if (!action.payload.length) {\n    state.allConversationsLoaded = true;\n  } else {\n    state.list = [...state.list, ...action.payload];\n    state.list = uniqueList(state.list);\n  }\n};\n\nexport const loadMoreConversationsFail = (state, action) => {\n  state.loadingMoreConversations = false;\n  state.error = action.payload;\n};\n\nexport const userStatusUpdated = (state, action) => {\n  let user = action.payload.user;\n  const finalList = state.list.map((conversation, index) => {\n    if (!conversation.isGroup && conversation.user.id == user.id) {\n      conversation.user.isOnline = user.isOnline;\n      conversation.user.lastSeen = user.lastSeen;\n\n      return conversation;\n    } else {\n      return conversation;\n    }\n  })\n\n  state.list = finalList;\n};\n\nexport const userUpdated = (state, action) => {\n  let user = action.payload.user;\n  const finalList = state.list.map((conversation, index) => {\n    if (!conversation.isGroup && conversation.user.id == user.id) {\n      conversation.user.isOnline = user.isOnline;\n      conversation.user.lastSeen = user.lastSeen;\n      conversation.user.displayName = user.displayName;\n      conversation.user.profileImageUrl = user.profileImageUrl;\n\n      return conversation;\n    } else {\n      return conversation;\n    }\n  })\n\n  state.list = finalList;\n};\n\nexport const newMessageReceived = (state, action) => {\n  let message = action.payload.message;\n\n  let conversationIndex;\n  let latestConversation;\n\n  const finalList = state.list.map((conversation, index) => {\n    if (conversation.id == message.conversationId) {\n      conversation.lastMessage = message;\n      conversation.updatedAt = action.payload.timestamp;\n\n      conversationIndex = index;\n      latestConversation = conversation;\n\n      return conversation;\n    } else {\n      return conversation;\n    }\n  })\n\n  // Move up the latest conversation\n  if (conversationIndex > 0) {\n    finalList.splice(conversationIndex, 1);\n    finalList.unshift(latestConversation);\n  }\n\n  state.list = finalList;\n};\n\nexport const conversationUpdated = (state, action) => {\n  let conversation = action.payload.conversation;\n\n  let conversationIndex;\n  let latestConversation;\n\n  const finalList = state.list.map((item, index) => {\n    if (item.id == conversation.id) {\n      item.title = conversation.title;\n      item.profileImageUrl = conversation.profileImageUrl;\n      item.updatedAt = action.payload.timestamp;\n\n      conversationIndex = index;\n      latestConversation = item;\n\n      return item;\n    } else {\n      return item;\n    }\n  })\n\n  // Move up the latest conversation\n  if (conversationIndex > 0) {\n    finalList.splice(conversationIndex, 1);\n    finalList.unshift(latestConversation);\n  }\n\n  state.list = finalList;\n};\n\nexport const userJoined = (state, action) => {\n  const { conversation } = action.payload;\n  state.list = [...[conversation], ...state.list];\n  state.list = uniqueList(state.list);\n};\n\nexport const membersAdded = (state, action) => {\n  let { conversation, members, timestamp } = action.payload;\n\n  let conversationIndex;\n  let latestConversation;\n\n  const finalList = state.list.map((item, index) => {\n    if (item.id == conversation.id) {\n      item.memberCount = conversation.memberCount;\n      item.updatedAt = timestamp;\n      item.members = item.members.concat(members)\n\n      conversationIndex = index;\n      latestConversation = item;\n\n      return item;\n    } else {\n      return item;\n    }\n  })\n\n  // Move up the latest conversation\n  if (conversationIndex > 0) {\n    finalList.splice(conversationIndex, 1);\n    finalList.unshift(latestConversation);\n  }\n\n  state.list = finalList;\n};\n\nexport const membersRemoved = (state, action) => {\n  let { conversation, members, timestamp } = action.payload;\n\n  let conversationIndex;\n  let latestConversation;\n\n  const finalList = state.list.map((item, index) => {\n    if (item.id == conversation.id) {\n      item.memberCount = conversation.memberCount;\n      item.updatedAt = timestamp;\n\n      // Remove members\n      members.forEach(removedMember => {\n        const index = item.members.findIndex(member => member.userId == removedMember.id)\n        if (index >=0) {\n          item.members.splice(index, 1);\n        }\n      })\n\n      conversationIndex = index;\n      latestConversation = item;\n\n      return item;\n    } else {\n      return item;\n    }\n  })\n\n  // Move up the latest conversation\n  if (conversationIndex > 0) {\n    finalList.splice(conversationIndex, 1);\n    finalList.unshift(latestConversation);\n  }\n\n  state.list = finalList;\n};\n\nexport const markAsRead = (state, action) => {\n  let { conversation, user, timestamp } = action.payload;\n\n  const finalList = state.list.map((item, index) => {\n    if (item.id == conversation.id) {\n      if (item.lastReadAt[user.id]) {\n        item.lastReadAt[user.id] = timestamp;\n      }\n\n      return item;\n    } else {\n      return item;\n    }\n  })\n\n  state.list = finalList;\n}\n\nexport const handlers = {\n  [LOADING_CONVERSATION_LIST]: loadingConversationList,\n  [CONVERSATION_LIST_FAIL]: listConversationFail,\n  [CONVERSATION_LIST_SUCCESS]: listConversationSuccess,\n  [LOADING_LOAD_MORE_CONVERSATIONS]: loadingLoadMoreConversations,\n  [LOAD_MORE_CONVERSATIONS_FAIL]: loadMoreConversationsFail,\n  [LOAD_MORE_CONVERSATIONS_SUCCESS]: loadMoreConversationsSuccess,\n  [USER_STATUS_UPDATED_EVENT]: userStatusUpdated,\n  [NEW_MESSAGE_RECEIVED_EVENT]: newMessageReceived,\n  [USER_JOINED_EVENT]: userJoined,\n  [MEMBERS_ADDED_EVENT]: membersAdded,\n  [MEMBERS_REMOVED_EVENT]: membersRemoved,\n  [CONVERSATION_UPDATED_EVENT]: conversationUpdated,\n  [USER_UPDATED_EVENT]: userUpdated,\n  [MARK_AS_READ_EVENT]: markAsRead\n};\n\nexport default createReducer(INITIAL_STATE, handlers);","import { \n  LOADING_MESSAGE_LIST,\n  MESSAGE_LIST_FAIL,\n  MESSAGE_LIST_SUCCESS,\n  SENDING_MESSAGE,\n  SEND_MESSAGE_FAIL,\n  SEND_MESSAGE_SUCCESS,\n  LOADING_LOAD_MORE_MESSAGES,\n  LOAD_MORE_MESSAGES_SUCCESS,\n  LOAD_MORE_MESSAGES_FAIL,\n  SET_ACTIVE_CONVERSATION,\n  SET_ACTIVE_USERID,\n  CONVERSATION_UPDATED_EVENT,\n  MEMBERS_ADDED_EVENT,\n  MEMBERS_REMOVED_EVENT,\n  NEW_MESSAGE_RECEIVED_EVENT,\n  USER_STATUS_UPDATED_EVENT,\n  USER_UPDATED_EVENT,\n  MARK_AS_READ_EVENT\n} from '../constants';\nimport { createReducer, uniqueList } from '../utils';\nimport { Channelize } from 'channelize-chat';\n\nconst INITIAL_STATE = {\n  list: [],\n  loading: false,\n  error: null,\n  loadingMoreMessages: false,\n  allMessagesLoaded: false,\n  sendingMessage: false,\n\n  // Active conversation and userId\n  conversation: null,\n  userId: null,\n\n  newMessage: null\n};\n\nexport const loadingMessageList = (state, action) => {\n  state.loading = true;\n  state.list = [];\n  state.allMessagesLoaded = false;\n};\n\nexport const messageListSuccess = (state, action) => {\n  state.loading = false;\n  state.list = action.payload;\n};\n\nexport const messageListFail = (state, action) => {\n  state.loading = false;\n  state.error = action.payload;\n};\n\nexport const loadingLoadMoreMessages = (state, action) => {\n  state.loadingMoreMessages = true;\n};\n\nexport const loadMoreMessagesFail = (state, action) => {\n  state.loadingMoreMessages = false;\n  state.error = action.payload;\n};\n\nexport const loadMoreMessagesSuccess = (state, action) => {\n  state.loadingMoreMessages = false;\n  if (!action.payload.length) {\n    state.allMessagesLoaded = true;\n  } else {\n    state.list = [...action.payload, ...state.list];\n    state.list = uniqueList(state.list);\n  }\n};\n\nexport const sendingMessage = (state, action) => {\n  state.sendingMessage = true;\n  // action.payload.status = \"pending\";\n  // state.list = [...state.list, ...[action.payload]];\n  // state.list = uniqueList(state.list);\n};\n\nexport const sendMessageSuccess = (state, action) => {\n  state.sendingMessage = false;\n  state.list = [...state.list, ...[action.payload]];\n  state.list = uniqueList(state.list);\n};\n\nexport const sendMessageFail = (state, action) => {\n  action.payload.status = \"failed\";\n  state.list = [...state.list, ...[action.payload]];\n  state.list = uniqueList(state.list);\n};\n\nexport const setActiveConversation = (state, action) => {\n  state.conversation = action.payload;\n  state.userId = null;\n};\n\nexport const setActiveUserId = (state, action) => {\n  state.userId = action.payload;\n  state.conversation = null;\n};\n\nexport const newMessageReceived = (state, action) => {\n  let message = action.payload.message;\n  if (state.conversation && state.conversation.id == message.conversationId) {\n    state.list = [...state.list, ...[message]];\n    state.list = uniqueList(state.list);\n\n    state.newMessage = message;\n  }\n};\n\nexport const conversationUpdated = (state, action) => {\n  let { id, title, profileImageUrl } = action.payload.conversation;\n  if (state.conversation && state.conversation.id == id) {\n    const jsonConversaton = state.conversation.toJSON();\n    let conversation = {...jsonConversaton, title, profileImageUrl, updatedAt: action.payload.timestamp};\n\n    //Convert in conversation model\n    const client = Channelize.core.Client.getInstance();\n    state.conversation = new Channelize.core.Conversation.Model(client, conversation);\n  }\n};\n\nexport const membersAdded = (state, action) => {\n  let { conversation, members, timestamp } = action.payload;\n  if (state.conversation && state.conversation.id == conversation.id) {\n    let jsonConversaton = state.conversation.toJSON();\n    jsonConversaton.members = jsonConversaton.members.concat(members)\n    jsonConversaton.memberCount = conversation.memberCount;\n    jsonConversaton.updatedAt = timestamp;\n\n    //Convert in conversation model\n    const client = Channelize.core.Client.getInstance();\n    state.conversation = new Channelize.core.Conversation.Model(client, jsonConversaton);\n  }\n}\n\nexport const membersRemoved = (state, action) => {\n  let { conversation, members, timestamp } = action.payload;\n  if (state.conversation && state.conversation.id == conversation.id) {\n    let jsonConversaton = state.conversation.toJSON();\n    jsonConversaton.memberCount = conversation.memberCount;\n    jsonConversaton.updatedAt = timestamp;\n\n    // Remove members\n    members.forEach(removedMember => {\n      const index = jsonConversaton.members.findIndex(member => member.userId == removedMember.id)\n      if (index >=0) {\n        jsonConversaton.members.splice(index, 1);\n      }\n    })\n\n    //Convert in conversation model\n    const client = Channelize.core.Client.getInstance();\n    state.conversation = new Channelize.core.Conversation.Model(client, jsonConversaton);\n  }\n}\n\nexport const userStatusUpdated = (state, action) => {\n  const user = action.payload.user;\n  if (state.conversation && !state.conversation.isGroup && state.conversation.user.id == user.id) {\n    let jsonConversaton = state.conversation.toJSON();\n    jsonConversaton.user.isOnline = user.isOnline;\n    jsonConversaton.user.lastSeen = user.lastSeen;\n\n    //Convert in conversation model\n    const client = Channelize.core.Client.getInstance();\n    state.conversation = new Channelize.core.Conversation.Model(client, jsonConversaton);\n  }\n};\n\nexport const userUpdated = (state, action) => {\n  const user = action.payload.user;\n  if (state.conversation && !state.conversation.isGroup && state.conversation.user.id == user.id) {\n    let jsonConversaton = state.conversation.toJSON();\n    jsonConversaton.user.isOnline = user.isOnline;\n    jsonConversaton.user.lastSeen = user.lastSeen;\n    jsonConversaton.user.displayName = user.displayName;\n    jsonConversaton.user.profileImageUrl = user.profileImageUrl;\n\n    //Convert in conversation model\n    const client = Channelize.core.Client.getInstance();\n    state.conversation = new Channelize.core.Conversation.Model(client, jsonConversaton);\n  }\n};\n\nexport const markAsRead = (state, action) => {\n  let { conversation, user, timestamp } = action.payload;\n\n  if (state.conversation && state.conversation.id == conversation.id) {\n    let jsonConversaton = state.conversation.toJSON();\n    if (jsonConversaton.lastReadAt[user.id]) {\n      jsonConversaton.lastReadAt[user.id] = timestamp;\n    }\n\n    //Convert in conversation model\n    const client = Channelize.core.Client.getInstance();\n    state.conversation = new Channelize.core.Conversation.Model(client, jsonConversaton);\n  }\n}\n\nexport const handlers = {\n  [LOADING_MESSAGE_LIST]: loadingMessageList,\n  [MESSAGE_LIST_SUCCESS]: messageListSuccess,\n  [MESSAGE_LIST_FAIL]: messageListFail,\n  [SENDING_MESSAGE]: sendingMessage,\n  [SEND_MESSAGE_SUCCESS]: sendMessageSuccess,\n  [SEND_MESSAGE_FAIL]: sendMessageFail,\n  [LOADING_LOAD_MORE_MESSAGES]: loadingLoadMoreMessages,\n  [LOAD_MORE_MESSAGES_SUCCESS]: loadMoreMessagesSuccess,\n  [LOAD_MORE_MESSAGES_FAIL]: loadMoreMessagesFail,\n  [SET_ACTIVE_CONVERSATION]: setActiveConversation,\n  [SET_ACTIVE_USERID]: setActiveUserId,\n  [CONVERSATION_UPDATED_EVENT]: conversationUpdated,\n  [MEMBERS_ADDED_EVENT]: membersAdded,\n  [MEMBERS_REMOVED_EVENT]: membersRemoved,\n  [NEW_MESSAGE_RECEIVED_EVENT]: newMessageReceived,\n  [USER_STATUS_UPDATED_EVENT]: userStatusUpdated,\n  [USER_UPDATED_EVENT]: userUpdated,\n  [MARK_AS_READ_EVENT]: markAsRead\n};\n\nexport default createReducer(INITIAL_STATE, handlers);","import { \n  LOADING_FRIENDS_LIST,\n  FRIENDS_LIST_FAIL,\n  FRIENDS_LIST_SUCCESS,\n  LOADING_LOAD_MORE_FRIENDS,\n  LOAD_MORE_FRIENDS_SUCCESS,\n  LOAD_MORE_FRIENDS_FAIL,\n  LOADING_MORE_USERS_LIST,\n  MORE_USERS_LIST_FAIL,\n  MORE_USERS_LIST_SUCCESS,\n  LOADING_SEARCH_FRIENDS,\n  SEARCH_FRIENDS_SUCCESS,\n  SEARCH_FRIENDS_FAIL\n} from '../constants';\nimport { createReducer, uniqueList } from '../utils';\n\nconst INITIAL_STATE = {\n  friendslist: [],\n  loadingFriendsList: false,\n  error: null,\n  loadingMoreFriends: false,\n  allFriendsLoaded: false,\n\n  moreUsersList: [],\n  loadingMoreUsersList: false,\n\n  searchFriends: [],\n  loadingSearchFriends: false\n};\n\nexport const loadingFriendsList = (state, action) => {\n  state.loadingFriendsList = true;\n  state.allFriendsLoaded = false;\n  state.friendslist= [];\n};\n\nexport const friendsListSuccess = (state, action) => {\n  state.loadingFriendsList = false;\n  state.friendslist = action.payload;\n};\n\nexport const friendsListFail = (state, action) => {\n  state.loadingFriendsList = false;\n  state.error = action.payload;\n};\n\nexport const loadingLoadMoreFriends = (state, action) => {\n  state.loadingMoreFriends = true;\n};\n\nexport const loadMoreFriendsFail = (state, action) => {\n  state.loadingMoreFriends = false;\n  state.error = action.payload;\n};\n\nexport const loadMoreFriendsSuccess = (state, action) => {\n  state.loadingMoreFriends = false;\n  if (!action.payload.length) {\n    state.allFriendsLoaded = true;\n  } else {\n    state.friendslist = [...state.friendslist, ...action.payload];\n    state.friendslist = uniqueList(state.friendslist);\n  }\n};\n\nexport const loadingMoreUsersList = (state, action) => {\n  state.loadingMoreUsersList = true;\n  state.moreUsersList = [];\n};\n\nexport const moreUsersListSuccess = (state, action) => {\n  state.loadingMoreUsersList = false;\n  state.moreUsersList = action.payload;\n};\n\nexport const moreUsersListFail = (state, action) => {\n  state.loadingMoreUsersList = false;\n  state.error = action.payload;\n};\n\nexport const loadingSearchFriends = (state, action) => {\n  state.loadingSearchFriends = true;\n  state.searchFriends = [];\n};\n\nexport const searchFriendsSuccess = (state, action) => {\n  state.loadingSearchFriends = false;\n  state.searchFriends = action.payload;\n};\n\nexport const searchFriendsFail = (state, action) => {\n  state.loadingSearchFriends = false;\n  state.error = action.payload;\n};\n\nexport const handlers = {\n  [LOADING_FRIENDS_LIST]: loadingFriendsList,\n  [FRIENDS_LIST_SUCCESS]: friendsListSuccess,\n  [FRIENDS_LIST_FAIL]: friendsListFail,\n  [LOADING_LOAD_MORE_FRIENDS]: loadingLoadMoreFriends,\n  [LOAD_MORE_FRIENDS_SUCCESS]: loadMoreFriendsSuccess,\n  [LOAD_MORE_FRIENDS_FAIL]: loadMoreFriendsFail,\n  [LOADING_MORE_USERS_LIST]: loadingMoreUsersList,\n  [MORE_USERS_LIST_SUCCESS]: moreUsersListSuccess,\n  [MORE_USERS_LIST_FAIL]: moreUsersListFail,\n  [LOADING_SEARCH_FRIENDS]: loadingSearchFriends,\n  [SEARCH_FRIENDS_SUCCESS]: searchFriendsSuccess,\n  [SEARCH_FRIENDS_FAIL]: searchFriendsFail,\n};\n\nexport default createReducer(INITIAL_STATE, handlers);","import { combineReducers } from 'redux';\nimport clientReducer from './clientReducer';\nimport conversationReducer from './conversationReducer';\nimport messageReducer from './messageReducer';\nimport userReducer from './userReducer';\n\nexport default combineReducers({\n  client: clientReducer,\n  conversation: conversationReducer,\n  message: messageReducer,\n  user: userReducer\n});\n","import { createStore, applyMiddleware, compose } from 'redux';\n\nimport thunk from 'redux-thunk';\nimport { logger } from 'redux-logger';\nimport { composeWithDevTools } from 'remote-redux-devtools';\n\nimport rootReducer from '../reducers';\n\nconst initialState = {};\nconst enhancers = [];\nconst middleware = [\n  thunk,\n];\n\nlet composeFunction = compose;\n\nif (process.env.NODE_ENV === 'development') {\n  composeFunction = composeWithDevTools;\n  middleware.push(logger);\n}\n\nconst composedEnhancers = composeFunction(\n  applyMiddleware(...middleware),\n  ...enhancers,\n);\n\nexport const store = createStore(\n  rootReducer,\n  initialState,\n  composedEnhancers\n);\n\n","export * from './components';\nexport * from './utils';\nexport * from './context';\nexport * from './store';"],"sourceRoot":""}